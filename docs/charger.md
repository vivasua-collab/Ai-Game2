# üîã –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ó–∞—Ä—è–¥–Ω–∏–∫–∞ (Qi Charger)

**–í–µ—Ä—Å–∏—è:** 1.0  
**–°–æ–∑–¥–∞–Ω–æ:** 2026-02-27  
**–°—Ç–∞—Ç—É—Å:** –ß–µ—Ä–Ω–æ–≤–∏–∫

---

## üìã –û–±–∑–æ—Ä

**–ó–∞—Ä—è–¥–Ω–∏–∫** ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è:
1. **–•—Ä–∞–Ω–µ–Ω–∏—è –∫–∞–º–Ω–µ–π –¶–∏** –≤ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–º –≤–∏–¥–µ
2. **–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–≥–æ –ø–æ–≥–ª–æ—â–µ–Ω–∏—è** –¶–∏ –∏–∑ –∫–∞–º–Ω–µ–π
3. **–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –¶–∏** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –±–æ—é

### –ö–ª—é—á–µ–≤–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     –ü–†–ò–ù–¶–ò–ü –†–ê–ë–û–¢–´ –ó–ê–†–Ø–î–ù–ò–ö–ê                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                          ‚îÇ
‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ    ‚îÇ  –ö–ê–ú–ï–ù–¨ –¶–∏  ‚îÇ ‚îÄ‚îÄ‚Üí  ‚îÇ  –ó–ê–†–Ø–î–ù–ò–ö  ‚îÇ ‚îÄ‚îÄ‚Üí  ‚îÇ  –ü–†–ê–ö–¢–ò–ö   ‚îÇ            ‚îÇ
‚îÇ    ‚îÇ  (–∏—Å—Ç–æ—á–Ω–∏–∫) ‚îÇ      ‚îÇ  (–±—É—Ñ–µ—Ä)    ‚îÇ      ‚îÇ  (–ø—Ä–∏—ë–º–Ω–∏–∫) ‚îÇ            ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îÇ          ‚îÇ                    ‚îÇ                    ‚îÇ                    ‚îÇ
‚îÇ          ‚îÇ    —Å–∫–æ—Ä–æ—Å—Ç—å        ‚îÇ   –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å    ‚îÇ                    ‚îÇ
‚îÇ          ‚îÇ    –≤—ã—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è   ‚îÇ   –∑–∞—Ä—è–¥–Ω–∏–∫–∞       ‚îÇ                    ‚îÇ
‚îÇ          ‚îÇ         ‚Üì          ‚îÇ        ‚Üì          ‚îÇ                    ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ 50-200 –µ–¥/—Å–µ–∫ ‚îÄ‚î¥‚îÄ‚îÄ 5-50 –µ–¥/—Å–µ–∫ ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îÇ
‚îÇ                               ‚Üì                                          ‚îÇ
‚îÇ                        –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–π                                    ‚îÇ
‚îÇ                          —Ñ–∞–∫—Ç–æ—Ä                                          ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îÇ   "–ù–µ–ª—å–∑—è –≤—ã–ª–∏—Ç—å –±–∞—Å—Å–µ–π–Ω –∑–∞ —Å–µ–∫—É–Ω–¥—ã —á–µ—Ä–µ–∑ —Ç—Ä—É–±–æ—á–∫—É –¥–ª—è –∫–æ–∫—Ç–µ–π–ª–µ–π"       ‚îÇ
‚îÇ                                                                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 1Ô∏è‚É£ –¢–ò–ü–´ –ó–ê–†–Ø–î–ù–ò–ö–û–í

### 1.1 –ü–æ —Ñ–æ—Ä–º-—Ñ–∞–∫—Ç–æ—Ä—É

```typescript
type ChargerFormFactor = 
  | 'belt'       // –ü–æ—è—Å–Ω–æ–π (–Ω–æ—Å—è—Ç –Ω–∞ –ø–æ—è—Å–µ)
  | 'bracelet'   // –ë—Ä–∞—Å–ª–µ—Ç (–Ω–∞ –∑–∞–ø—è—Å—Ç—å–µ)
  | 'necklace'   // –û–∂–µ—Ä–µ–ª—å–µ (–Ω–∞ —à–µ–µ)
  | 'ring'       // –ö–æ–ª—å—Ü–æ (–Ω–∞ –ø–∞–ª—å—Ü–µ)
  | 'backpack';  // –†–∞–Ω–µ—Ü (–Ω–∞ —Å–ø–∏–Ω–µ)

interface ChargerFormFactorData {
  name: string;
  slot: EquipmentSlot;          // –°–ª–æ—Ç —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏
  baseSlotCount: number;        // –ë–∞–∑–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤
  maxSlotCount: number;         // –ú–∞–∫—Å. —Å–ª–æ—Ç–æ–≤ (—Å —É–ª—É—á—à–µ–Ω–∏—è–º–∏)
  baseCapacity: number;         // –ë–∞–∑–æ–≤–∞—è —ë–º–∫–æ—Å—Ç—å –±—É—Ñ–µ—Ä–∞ (–µ–¥ –¶–∏)
  description: string;
  wearPosition: string;
}

const CHARGER_FORM_FACTORS: Record<ChargerFormFactor, ChargerFormFactorData> = {
  belt: {
    name: '–ü–æ—è—Å-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å',
    slot: 'belt',
    baseSlotCount: 3,
    maxSlotCount: 8,
    baseCapacity: 500,
    description: '–®–∏—Ä–æ–∫–∏–π –ø–æ—è—Å —Å –≥–Ω—ë–∑–¥–∞–º–∏ –¥–ª—è –∫–∞–º–Ω–µ–π. –£–¥–æ–±–µ–Ω –∏ –Ω–µ–∑–∞–º–µ—Ç–µ–Ω.',
    wearPosition: '–¢–∞–ª–∏—è',
  },
  bracelet: {
    name: '–ë—Ä–∞—Å–ª–µ—Ç-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å',
    slot: 'bracelet',
    baseSlotCount: 2,
    maxSlotCount: 4,
    baseCapacity: 200,
    description: '–ù–∞—Ä—É—á–Ω—ã–π –±—Ä–∞—Å–ª–µ—Ç —Å –∫–∞–º–Ω—è–º–∏. –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø.',
    wearPosition: '–ó–∞–ø—è—Å—Ç—å–µ',
  },
  necklace: {
    name: '–û–∂–µ—Ä–µ–ª—å–µ-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å',
    slot: 'necklace',
    baseSlotCount: 1,
    maxSlotCount: 3,
    baseCapacity: 1000,
    description: '–ö—É–ª–æ–Ω —Å –∫–∞–º–Ω–µ–º —É —Å–µ—Ä–¥—Ü–∞. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ë–º–∫–æ—Å—Ç—å.',
    wearPosition: '–®–µ—è',
  },
  ring: {
    name: '–ö–æ–ª—å—Ü–æ-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å',
    slot: 'ring_right',
    baseSlotCount: 1,
    maxSlotCount: 1,
    baseCapacity: 50,
    description: '–ö–æ–ª—å—Ü–æ —Å –º–∏–Ω–∏–∞—Ç—é—Ä–Ω—ã–º –∫–∞–º–Ω–µ–º. –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ.',
    wearPosition: '–ü–∞–ª–µ—Ü',
  },
  backpack: {
    name: '–†–∞–Ω–µ—Ü-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å',
    slot: 'backpack',
    baseSlotCount: 6,
    maxSlotCount: 15,
    baseCapacity: 2000,
    description: '–†—é–∫–∑–∞–∫ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≥–Ω—ë–∑–¥. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.',
    wearPosition: '–°–ø–∏–Ω–∞',
  },
};
```

### 1.2 –ü–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é

```typescript
type ChargerPurpose = 
  | 'accumulation'  // –î–ª—è –º–µ–¥–∏—Ç–∞—Ü–∏–∏ (–º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ)
  | 'combat'        // –î–ª—è –±–æ—è (–±—ã—Å—Ç—Ä–æ–µ –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ)
  | 'hybrid';       // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π

interface ChargerPurposeData {
  name: string;
  description: string;
  
  // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
  absorptionSpeed: number;     // –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–æ–≥–ª–æ—â–µ–Ω–∏—è
  bufferSize: number;          // –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–∞–∑–º–µ—Ä–∞ –±—É—Ñ–µ—Ä–∞
  combatEfficiency: number;    // –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –±–æ—é (%)
  
  // –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
  features: string[];
}

const CHARGER_PURPOSES: Record<ChargerPurpose, ChargerPurposeData> = {
  accumulation: {
    name: '–ú–µ–¥–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π',
    description: '–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–≥–ª–æ—â–µ–Ω–∏—è –¶–∏ –≤–æ –≤—Ä–µ–º—è –º–µ–¥–∏—Ç–∞—Ü–∏–∏.',
    absorptionSpeed: 0.8,       // –ú–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ
    bufferSize: 1.5,            // –ë–æ–ª—å—à–∏–π –±—É—Ñ–µ—Ä
    combatEfficiency: 50,       // –ù–µ—É–¥–æ–±–µ–Ω –≤ –±–æ—é
    features: ['–í—ã—Å–æ–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å', '–ë–æ–ª—å—à–∏–π –±—É—Ñ–µ—Ä', '–°–Ω–∏–∂–µ–Ω–Ω—ã–π –Ω–∞–≥—Ä–µ–≤'],
  },
  combat: {
    name: '–ë–æ–µ–≤–æ–π',
    description: '–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –¶–∏ –≤ –±–æ—é.',
    absorptionSpeed: 1.5,       // –ë—ã—Å—Ç—Ä–µ–µ
    bufferSize: 0.7,            // –ú–µ–Ω—å—à–∏–π –±—É—Ñ–µ—Ä (–∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å)
    combatEfficiency: 100,
    features: ['–ë—ã—Å—Ç—Ä—ã–π —Å–±—Ä–æ—Å –¶–∏', '–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π', '–ê–≤—Ç–æ–∏–Ω—ä–µ–∫—Ü–∏—è'],
  },
  hybrid: {
    name: '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π',
    description: '–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –≤—Å–µ—Ö —Å–∏—Ç—É–∞—Ü–∏–π.',
    absorptionSpeed: 1.0,
    bufferSize: 1.0,
    combatEfficiency: 75,
    features: ['–ë–∞–ª–∞–Ω—Å', '–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å'],
  },
};
```

---

## 2Ô∏è‚É£ –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò

### 2.1 –°–ª–æ—Ç—ã –¥–ª—è –∫–∞–º–Ω–µ–π

```typescript
interface QiStoneSlot {
  id: string;                   // ID —Å–ª–æ—Ç–∞
  index: number;                // –ù–æ–º–µ—Ä —Å–ª–æ—Ç–∞
  
  // –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
  compatibility: {
    minQuality: QiStoneQuality; // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–∞–º–Ω—è
    maxSize: QiStoneSize;       // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∫–∞–º–Ω—è
    types: QiStoneType[];       // –î–æ–ø—É—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã –∫–∞–º–Ω–µ–π
  };
  
  // –¢–µ–∫—É—â–∏–π –∫–∞–º–µ–Ω—å
  currentStone: QiStone | null;
  
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ
  state: {
    isActive: boolean;          // –ê–∫—Ç–∏–≤–µ–Ω –¥–ª—è –ø–æ–≥–ª–æ—â–µ–Ω–∏—è
    isSealed: boolean;          // –ó–∞–ø–µ—á–∞—Ç–∞–Ω
    damageLevel: number;        // –£—Ä–æ–≤–µ–Ω—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è (0-100%)
  };
  
  // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
  modifiers?: {
    absorptionBonus: number;    // % –±–æ–Ω—É—Å –∫ –ø–æ–≥–ª–æ—â–µ–Ω–∏—é
    qiRetention: number;        // % —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¶–∏
  };
}
```

### 2.2 –ë—É—Ñ–µ—Ä –¶–∏

```typescript
interface QiBuffer {
  // === –Å–ú–ö–û–°–¢–¨ ===
  capacity: {
    base: number;               // –ë–∞–∑–æ–≤–∞—è —ë–º–∫–æ—Å—Ç—å (–æ—Ç —Ç–∏–ø–∞ –∑–∞—Ä—è–¥–Ω–∏–∫–∞)
    current: number;            // –¢–µ–∫—É—â–∞—è —ë–º–∫–æ—Å—Ç—å (—Å —É—á—ë—Ç–æ–º —É–ª—É—á—à–µ–Ω–∏–π)
    max: number;                // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ë–º–∫–æ—Å—Ç—å
  };
  
  // === –°–û–î–ï–†–ñ–ò–ú–û–ï ===
  content: {
    currentQi: number;          // –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¶–∏
    maxQi: number;              // –ú–∞–∫—Å–∏–º—É–º (–º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å capacity –ø—Ä–∏ –∑–∞—Ä—è–¥–∫–µ)
    overchargePossible: boolean;// –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∏—Ç—å —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞
    overchargePenalty: number;  // –®—Ç—Ä–∞—Ñ –∑–∞ –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫—É (%/—Å–µ–∫ —É—Ç–µ—á–∫–∏)
  };
  
  // === –ü–ê–†–ê–ú–ï–¢–†–´ –ü–û–¢–û–ö–ê ===
  flow: {
    // –°–∫–æ—Ä–æ—Å—Ç—å –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–æ—Ç–æ–∫–∞ (–æ—Ç –∫–∞–º–Ω–µ–π)
    inputRate: number;          // –µ–¥/—Å–µ–∫
    
    // –°–∫–æ—Ä–æ—Å—Ç—å –∏—Å—Ö–æ–¥—è—â–µ–≥–æ –ø–æ—Ç–æ–∫–∞ (–∫ –ø—Ä–∞–∫—Ç–∏–∫—É)
    outputRate: number;         // –µ–¥/—Å–µ–∫
    
    // –ü—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –∑–∞—Ä—è–¥–Ω–∏–∫–∞
    conductivity: number;       // –µ–¥/—Å–µ–∫ (–æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–π —Ñ–∞–∫—Ç–æ—Ä!)
  };
  
  // === –°–û–°–¢–û–Ø–ù–ò–ï ===
  state: {
    temperature: number;        // –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (0-100%)
    stability: number;          // –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (0-100%)
    lastActivity: Date;         // –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  };
}
```

### 2.3 –ü—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –∑–∞—Ä—è–¥–Ω–∏–∫–∞

```typescript
// –ö–ª—é—á–µ–≤–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä - –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ –¶–∏

interface ChargerConductivity {
  // === –ë–ê–ó–û–í–ê–Ø –ü–†–û–í–û–î–ò–ú–û–°–¢–¨ ===
  base: number;                 // –µ–¥/—Å–µ–∫ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –∏ –∫–∞—á–µ—Å—Ç–≤–∞)
  
  // === –ú–û–î–ò–§–ò–ö–ê–¢–û–†–´ ===
  modifiers: {
    material: number;           // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–∞
    quality: number;            // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞
    enhancement: number;        // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –æ—Ç —É–ª—É—á—à–µ–Ω–∏–π
  };
  
  // === –ò–¢–û–ì–û–í–ê–Ø ===
  effective: number;            // –µ–¥/—Å–µ–∫
  
  // === –°–†–ê–í–ù–ï–ù–ò–ï –° –ú–ï–†–ò–î–ò–ê–ù–ê–ú–ò ===
  // –ü—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –∑–∞—Ä—è–¥–Ω–∏–∫–∞ –æ–±—ã—á–Ω–æ –ù–ò–ñ–ï –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç–∏ –º–µ—Ä–∏–¥–∏–∞–Ω
  // –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∑–∞—Ä—è–¥–Ω–∏–∫ "—É–∑–∫–∏–º –≥–æ—Ä–ª—ã—à–∫–æ–º"
  
  // –§–æ—Ä–º—É–ª–∞ –∏—Ç–æ–≥–æ–≤–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏:
  // effectiveRate = min(
  //   stone.releaseRate,         // –ö–∞–º–µ–Ω—å –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å
  //   charger.conductivity,       // –ó–∞—Ä—è–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å
  //   practitioner.conductivity   // –ü—Ä–∞–∫—Ç–∏–∫ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—è—Ç—å
  // )
}

// –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç–∏:
const CHARGER_CONDUCTIVITY_EXAMPLES = {
  // –ë–∞–∑–æ–≤—ã–π –ø–æ—è—Å (common)
  basic_belt: {
    base: 5.0,                  // 5 –µ–¥/—Å–µ–∫ = 18 000 –µ–¥/—á–∞—Å
    effective: 5.0,
    note: '–î–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∞ —Å –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å—é 2.0: —Å–∫–æ—Ä–æ—Å—Ç—å = 2.0 (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∞)',
  },
  
  // –†–µ–º–µ—Å–ª–µ–Ω–Ω—ã–π –ø–æ—è—Å (uncommon)
  crafted_belt: {
    base: 10.0,                 // 10 –µ–¥/—Å–µ–∫ = 36 000 –µ–¥/—á–∞—Å
    effective: 10.0,
    note: '–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∞ —Å –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å—é –¥–æ 10.0',
  },
  
  // –ú–∞—Å—Ç–µ—Ä—Å–∫–∏–π –ø–æ—è—Å (rare)
  master_belt: {
    base: 25.0,                 // 25 –µ–¥/—Å–µ–∫ = 90 000 –µ–¥/—á–∞—Å
    effective: 25.0,
    note: '–î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫–æ–≤',
  },
  
  // –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –ø–æ—è—Å (legendary)
  legendary_belt: {
    base: 50.0,                 // 50 –µ–¥/—Å–µ–∫ = 180 000 –µ–¥/—á–∞—Å
    effective: 50.0,
    note: '–ù–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –¥–∞–∂–µ –º–∞—Å—Ç–µ—Ä–æ–≤ 9 —É—Ä–æ–≤–Ω—è',
  },
};
```

---

## 3Ô∏è‚É£ –ú–ï–•–ê–ù–ò–ö–ê –†–ê–ë–û–¢–´

### 3.1 –ü–æ–≥–ª–æ—â–µ–Ω–∏–µ –∏–∑ –∫–∞–º–Ω–µ–π

```typescript
interface AbsorptionProcess {
  // === –ò–°–¢–û–ß–ù–ò–ö–ò (–∫–∞–º–Ω–∏ –≤ —Å–ª–æ—Ç–∞—Ö) ===
  sources: {
    stone: QiStone;
    slot: QiStoneSlot;
    availableQi: number;
    releaseRate: number;        // –°–∫–æ—Ä–æ—Å—Ç—å –≤—ã—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –∏–∑ –∫–∞–º–Ω—è
  }[];
  
  // === –ü–†–û–ú–ï–ñ–£–¢–û–ß–ù–´–ô –ë–£–§–ï–† ===
  buffer: QiBuffer;
  
  // === –ü–†–ò–Å–ú–ù–ò–ö (–ø—Ä–∞–∫—Ç–∏–∫) ===
  receiver: {
    conductivity: number;       // –ü—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –º–µ—Ä–∏–¥–∏–∞–Ω
    currentQi: number;
    coreCapacity: number;
    freeSpace: number;
  };
  
  // === –†–ê–°–ß–Å–¢ –°–ö–û–†–û–°–¢–ò ===
  calculation: {
    totalSourceRate: number;    // –°—É–º–º–∞—Ä–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤—Å–µ—Ö –∫–∞–º–Ω–µ–π
    bufferConductivity: number; // –ü—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –∑–∞—Ä—è–¥–Ω–∏–∫–∞
    receiverConductivity: number; // –ü—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–∞
    effectiveRate: number;      // –ò—Ç–æ–≥–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å = min(all three)
    bottleneck: string;         // 'stones' | 'charger' | 'practitioner'
  };
}

function calculateAbsorptionProcess(
  charger: QiCharger,
  practitioner: Character
): AbsorptionProcess {
  // 1. –°—É–º–º–∞—Ä–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∫–∞–º–Ω–µ–π
  const totalSourceRate = charger.slots
    .filter(s => s.currentStone && s.state.isActive)
    .reduce((sum, slot) => sum + slot.currentStone!.properties.releaseRate, 0);
  
  // 2. –ü—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –∑–∞—Ä—è–¥–Ω–∏–∫–∞
  const bufferConductivity = charger.buffer.flow.conductivity;
  
  // 3. –ü—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–∞
  const receiverConductivity = practitioner.conductivity;
  
  // 4. –ò—Ç–æ–≥–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å = –º–∏–Ω–∏–º—É–º –∏–∑ —Ç—Ä—ë—Ö
  const effectiveRate = Math.min(
    totalSourceRate,
    bufferConductivity,
    receiverConductivity
  );
  
  // 5. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É–∑–∫–æ–≥–æ –º–µ—Å—Ç–∞
  let bottleneck: string;
  if (receiverConductivity <= totalSourceRate && receiverConductivity <= bufferConductivity) {
    bottleneck = 'practitioner'; // "–¢—Ä—É–±–æ—á–∫–∞ –¥–ª—è –∫–æ–∫—Ç–µ–π–ª–µ–π" - –º–µ—Ä–∏–¥–∏–∞–Ω—ã
  } else if (bufferConductivity <= totalSourceRate) {
    bottleneck = 'charger';      // –ó–∞—Ä—è–¥–Ω–∏–∫ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç
  } else {
    bottleneck = 'stones';       // –ö–∞–º–Ω–∏ –Ω–µ —É—Å–ø–µ–≤–∞—é—Ç
  }
  
  return {
    sources: charger.slots
      .filter(s => s.currentStone && s.state.isActive)
      .map(slot => ({
        stone: slot.currentStone!,
        slot,
        availableQi: slot.currentStone!.qiContent.current,
        releaseRate: slot.currentStone!.properties.releaseRate,
      })),
    buffer: charger.buffer,
    receiver: {
      conductivity: practitioner.conductivity,
      currentQi: practitioner.currentQi,
      coreCapacity: practitioner.coreCapacity,
      freeSpace: practitioner.coreCapacity - practitioner.currentQi,
    },
    calculation: {
      totalSourceRate,
      bufferConductivity,
      receiverConductivity,
      effectiveRate,
      bottleneck,
    },
  };
}
```

### 3.2 –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

```typescript
type ChargerMode = 
  | 'off'            // –í—ã–∫–ª—é—á–µ–Ω (–∫–∞–º–Ω–∏ –Ω–µ —Ä–∞—Å—Ö–æ–¥—É—é—Ç—Å—è)
  | 'trickle'        // –ö–∞–ø–µ–ª—å–Ω—ã–π (–º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ)
  | 'normal'         // –ù–æ—Ä–º–∞–ª—å–Ω—ã–π
  | 'burst'          // –í—Å–ø–ª–µ—Å–∫ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)
  | 'combat';        // –ë–æ–µ–≤–æ–π (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±–æ—è)

interface ChargerModeData {
  name: string;
  description: string;
  
  // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã
  speedMultiplier: number;      // –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∫–æ—Ä–æ—Å—Ç–∏
  efficiencyLoss: number;       // –ü–æ—Ç–µ—Ä—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (%)
  heatGeneration: number;       // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–ø–ª–∞ (%/—Å–µ–∫)
  
  // –£—Å–ª–æ–≤–∏—è
  requirements: {
    minBufferCharge: number;    // –ú–∏–Ω. –∑–∞—Ä—è–¥ –±—É—Ñ–µ—Ä–∞ (%)
    cooldownAfter?: number;     // –ö—É–ª–¥–∞—É–Ω –ø–æ—Å–ª–µ —Ä–µ–∂–∏–º–∞ (—Å–µ–∫)
  };
  
  // –≠—Ñ—Ñ–µ–∫—Ç—ã
  sideEffects: string[];
}

const CHARGER_MODES: Record<ChargerMode, ChargerModeData> = {
  off: {
    name: '–í—ã–∫–ª—é—á–µ–Ω',
    description: '–ó–∞—Ä—è–¥–Ω–∏–∫ –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω, –∫–∞–º–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.',
    speedMultiplier: 0,
    efficiencyLoss: 0,
    heatGeneration: 0,
    requirements: { minBufferCharge: 0 },
    sideEffects: ['–ü–æ–ª–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–º–Ω–µ–π'],
  },
  trickle: {
    name: '–ö–∞–ø–µ–ª—å–Ω—ã–π',
    description: '–û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏.',
    speedMultiplier: 0.25,
    efficiencyLoss: 2,
    heatGeneration: 0.1,
    requirements: { minBufferCharge: 0 },
    sideEffects: ['–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–≥—Ä–µ–≤', '98% —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å'],
  },
  normal: {
    name: '–ù–æ—Ä–º–∞–ª—å–Ω—ã–π',
    description: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º –ø–æ–≥–ª–æ—â–µ–Ω–∏—è.',
    speedMultiplier: 1.0,
    efficiencyLoss: 5,
    heatGeneration: 0.5,
    requirements: { minBufferCharge: 0 },
    sideEffects: ['–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º'],
  },
  burst: {
    name: '–í—Å–ø–ª–µ—Å–∫',
    description: '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, –ø–æ–≤—ã—à–µ–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏.',
    speedMultiplier: 2.0,
    efficiencyLoss: 15,
    heatGeneration: 2.0,
    requirements: { minBufferCharge: 0, cooldownAfter: 60 },
    sideEffects: ['–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–≥–ª–æ—â–µ–Ω–∏–µ', '–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π –∏–∑–Ω–æ—Å', '–¢—Ä–µ–±—É–µ—Ç –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è'],
  },
  combat: {
    name: '–ë–æ–µ–≤–æ–π',
    description: '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ—è: –±—ã—Å—Ç—Ä—ã–π —Å–±—Ä–æ—Å, –∑–∞—â–∏—Ç–∞ –∫–∞–º–Ω–µ–π.',
    speedMultiplier: 1.5,
    efficiencyLoss: 10,
    heatGeneration: 1.0,
    requirements: { minBufferCharge: 20 },
    sideEffects: ['–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –±–æ–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π', '–ó–∞—â–∏—Ç–∞ –∫–∞–º–Ω–µ–π'],
  },
};
```

---

## 4Ô∏è‚É£ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –í –ë–û–Æ

### 4.1 –ö–æ–Ω—Ü–µ–ø—Ü–∏—è "–±–∞—Ç–∞—Ä–µ–π–∫–∏"

```typescript
interface CombatQiInjection {
  // === –ò–°–¢–û–ß–ù–ò–ö ===
  source: {
    charger: QiCharger;
    availableQi: number;        // –¶–∏ –≤ –±—É—Ñ–µ—Ä–µ –∑–∞—Ä—è–¥–Ω–∏–∫–∞
  };
  
  // === –¶–ï–õ–¨ ===
  target: {
    practitioner: Character;
    currentQi: number;
    coreCapacity: number;
  };
  
  // === –ü–ê–†–ê–ú–ï–¢–†–´ –ò–ù–™–ï–ö–¶–ò–ò ===
  injection: {
    amount: number;             // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¶–∏
    rate: number;               // –°–∫–æ—Ä–æ—Å—Ç—å (–µ–¥/—Å–µ–∫)
    duration: number;           // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å–µ–∫)
  };
  
  // === –†–ï–ó–£–õ–¨–¢–ê–¢ ===
  result: {
    success: boolean;
    qiTransferred: number;
    qiLost: number;             // –ü–æ—Ç–µ—Ä–∏ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ
    heatGenerated: number;
    cooldownRequired: number;   // –ö—É–ª–¥–∞—É–Ω (—Å–µ–∫)
  };
}

// –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –±–æ—é:

// 1. –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–∑–∞—Ä—è–¥–∫–∞
const emergencyInjection: CombatQiInjection = {
  source: { charger, availableQi: 500 },
  target: { practitioner, currentQi: 100, coreCapacity: 1000 },
  injection: { amount: 500, rate: 50, duration: 10 },
  // –†–µ–∑—É–ª—å—Ç–∞—Ç: +450 –¶–∏ –∑–∞ 10 —Å–µ–∫—É–Ω–¥ (10% –ø–æ—Ç–µ—Ä–∏)
};

// 2. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ—Ö–Ω–∏–∫–∏
const techniqueSupport: CombatQiInjection = {
  source: { charger, availableQi: 100 },
  target: { practitioner, currentQi: 50, coreCapacity: 1000 },
  injection: { amount: 50, rate: 25, duration: 2 },
  // –†–µ–∑—É–ª—å—Ç–∞—Ç: +45 –¶–∏ –∑–∞ 2 —Å–µ–∫—É–Ω–¥—ã (–¥–æ–ø. –¶–∏ –¥–ª—è —Ç–µ—Ö–Ω–∏–∫–∏)
};

// 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –±–æ—è
const postCombatRecovery: CombatQiInjection = {
  source: { charger, availableQi: 2000 },
  target: { practitioner, currentQi: 0, coreCapacity: 1000 },
  injection: { amount: 1000, rate: 10, duration: 100 },
  // –†–µ–∑—É–ª—å—Ç–∞—Ç: +950 –¶–∏ –∑–∞ ~1.7 –º–∏–Ω—É—Ç—ã
};
```

### 4.2 –ë–∞–ª–∞–Ω—Å –≤ –±–æ—é

```typescript
interface CombatBalance {
  // === –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø ===
  limitations: {
    // –ù–µ–ª—å–∑—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë –¶–∏
    maxInjectionRate: number;   // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ = –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –∑–∞—Ä—è–¥–Ω–∏–∫–∞
    
    // –ü–µ—Ä–µ–≥—Ä–µ–≤ –ø—Ä–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
    maxTemperature: 100;        // % - –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
    
    // –ö—É–ª–¥–∞—É–Ω –º–µ–∂–¥—É –∏–Ω—ä–µ–∫—Ü–∏—è–º–∏
    minInjectionInterval: 5;    // —Å–µ–∫
    
    // –ü–æ—Ç–µ—Ä–∏ –¶–∏ –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–π –ø–µ—Ä–µ–¥–∞—á–µ
    combatEfficiency: 0.85;     // 15% –ø–æ—Ç–µ—Ä—å –≤ –±–æ—é
  };
  
  // === –¢–ê–ö–¢–ò–ß–ï–°–ö–û–ï –ü–†–ò–ú–ï–ù–ï–ù–ò–ï ===
  tactics: {
    // –ó–∞—Ä—è–¥–Ω–∏–∫ - –Ω–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –±–∞—Ç–∞—Ä–µ–π–∫–∞
    // –ö–∞–º–Ω–∏ –¶–∏ - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å
    
    // –†–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
    // 1. –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–∑–∞—Ä—è–¥–∫–∞ –ø—Ä–∏ <20% –¶–∏
    // 2. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ—â–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏
    // 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –±–æ—è–º–∏
    
    // –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ:
    // 1. –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Ç–∫–∞ (–±—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—Ö–æ–¥ –∫–∞–º–Ω–µ–π)
    // 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –ø–æ–ª–Ω–æ–º —è–¥—Ä–µ
    // 3. –ß–∞—Å—Ç—ã–µ –º–µ–ª–∫–∏–µ –∏–Ω—ä–µ–∫—Ü–∏–∏ (–ø–æ—Ç–µ—Ä–∏ –Ω–∞ "–≤–∫–ª—é—á–µ–Ω–∏–µ")
  };
}
```

### 4.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¶–∏ –∏–∑ –∑–∞—Ä—è–¥–Ω–∏–∫–∞ –¥–ª—è —Ç–µ—Ö–Ω–∏–∫

function useTechniqueWithCharger(
  technique: Technique,
  practitioner: Character,
  charger: QiCharger | null,
  target?: Entity
): TechniqueResult {
  // 1. –†–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ç–µ—Ö–Ω–∏–∫–∏
  const qiCost = technique.qiCost;
  
  // 2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¶–∏
  let qiSource: 'core' | 'charger' | 'mixed';
  let qiFromCore = 0;
  let qiFromCharger = 0;
  
  if (!charger || charger.buffer.content.currentQi < qiCost * 0.2) {
    // –¢–æ–ª—å–∫–æ –∏–∑ —è–¥—Ä–∞
    qiSource = 'core';
    qiFromCore = qiCost;
  } else if (practitioner.currentQi >= qiCost) {
    // –ò–∑ —è–¥—Ä–∞ (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ)
    qiSource = 'core';
    qiFromCore = qiCost;
  } else {
    // –°–º–µ—à–∞–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
    qiSource = 'mixed';
    qiFromCore = practitioner.currentQi;
    qiFromCharger = qiCost - practitioner.currentQi;
  }
  
  // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
  if (qiFromCore > practitioner.currentQi) {
    return { success: false, error: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¶–∏' };
  }
  if (qiFromCharger > (charger?.buffer.content.currentQi || 0)) {
    return { success: false, error: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¶–∏ –≤ –∑–∞—Ä—è–¥–Ω–∏–∫–µ' };
  }
  
  // 4. –ü–æ—Ç–µ—Ä–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∑–∞—Ä—è–¥–Ω–∏–∫–∞
  const chargerLoss = qiFromCharger * 0.15; // 15% –ø–æ—Ç–µ—Ä—å
  
  // 5. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏
  const result = executeTechnique(technique, practitioner, target);
  
  // 6. –°–ø–∏—Å–∞–Ω–∏–µ –¶–∏
  practitioner.currentQi -= qiFromCore;
  if (charger && qiFromCharger > 0) {
    charger.buffer.content.currentQi -= (qiFromCharger + chargerLoss);
    charger.buffer.state.temperature += qiFromCharger * 0.01; // –ù–∞–≥—Ä–µ–≤
  }
  
  return {
    ...result,
    qiUsed: { fromCore: qiFromCore, fromCharger: qiFromCharger },
    qiLost: chargerLoss,
  };
}
```

---

## 5Ô∏è‚É£ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –î–õ–Ø –ú–ï–î–ò–¢–ê–¶–ò–ò

### 5.1 –£—Å–∫–æ—Ä–µ–Ω–∏–µ –º–µ–¥–∏—Ç–∞—Ü–∏–∏

```typescript
interface MeditationWithCharger {
  // === –ë–ê–ó–û–í–ê–Ø –ú–ï–î–ò–¢–ê–¶–ò–Ø ===
  baseMeditation: {
    qiFromEnvironment: number;  // –¶–∏ –∏–∑ —Å—Ä–µ–¥—ã (–ø–æ–≥–ª–æ—â–µ–Ω–∏–µ –º–µ—Ä–∏–¥–∏–∞–Ω–∞–º–∏)
    qiFromMicroCore: number;    // –¶–∏ –æ—Ç –º–∏–∫—Ä–æ-—è–¥—Ä–∞
    totalBaseRate: number;      // –°–∫–æ—Ä–æ—Å—Ç—å –±–∞–∑–æ–≤–æ–≥–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è
  };
  
  // === –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û –û–¢ –ó–ê–†–Ø–î–ù–ò–ö–ê ===
  chargerBoost: {
    qiFromCharger: number;      // –¶–∏ –∏–∑ –∑–∞—Ä—è–¥–Ω–∏–∫–∞
    chargerRate: number;        // –°–∫–æ—Ä–æ—Å—Ç—å –∏–∑ –∑–∞—Ä—è–¥–Ω–∏–∫–∞
    efficiency: number;         // –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (—É—á—ë—Ç –ø–æ—Ç–µ—Ä—å)
  };
  
  // === –ò–¢–û–ì–û ===
  total: {
    combinedRate: number;       // –°—É–º–º–∞—Ä–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
    speedupFactor: number;      // –í–æ —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ
    timeToFullCore: number;     // –í—Ä–µ–º—è –¥–æ –ø–æ–ª–Ω–æ–≥–æ —è–¥—Ä–∞
  };
}

function calculateMeditationWithCharger(
  practitioner: Character,
  charger: QiCharger | null,
  location: LocationData
): MeditationWithCharger {
  // –ë–∞–∑–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
  const baseRate = calculateQiRates(practitioner, location).total;
  
  // –°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç –∑–∞—Ä—è–¥–Ω–∏–∫–∞
  let chargerRate = 0;
  let chargerEfficiency = 0;
  
  if (charger && charger.buffer.content.currentQi > 0) {
    // –í —Ä–µ–∂–∏–º–µ –º–µ–¥–∏—Ç–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è "–∫–∞–ø–µ–ª—å–Ω—ã–π" —Ä–µ–∂–∏–º –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    const process = calculateAbsorptionProcess(charger, practitioner);
    chargerRate = process.calculation.effectiveRate * CHARGER_MODES.trickle.speedMultiplier;
    chargerEfficiency = (100 - CHARGER_MODES.trickle.efficiencyLoss) / 100;
  }
  
  // –ò—Ç–æ–≥–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
  const combinedRate = baseRate + (chargerRate * chargerEfficiency);
  const speedupFactor = combinedRate / baseRate;
  const timeToFullCore = (practitioner.coreCapacity - practitioner.currentQi) / combinedRate;
  
  return {
    baseMeditation: {
      qiFromEnvironment: baseRate * 0.7, // –£—Å–ª–æ–≤–Ω–æ 70% –æ—Ç –±–∞–∑—ã = —Å—Ä–µ–¥–∞
      qiFromMicroCore: baseRate * 0.3,   // 30% = –º–∏–∫—Ä–æ—è–¥—Ä–æ
      totalBaseRate: baseRate,
    },
    chargerBoost: {
      qiFromCharger: chargerRate * chargerEfficiency,
      chargerRate,
      efficiency: chargerEfficiency,
    },
    total: {
      combinedRate,
      speedupFactor: charger ? Math.max(1, speedupFactor) : 1,
      timeToFullCore,
    },
  };
}

// –ü—Ä–∏–º–µ—Ä:
// –ë–∞–∑–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: 0.5 –µ–¥/—Å–µ–∫ = 1800 –µ–¥/—á–∞—Å
// –ó–∞—Ä—è–¥–Ω–∏–∫ (–ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å 10 –µ–¥/—Å–µ–∫, –∫–∞–ø–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º 0.25): 2.5 –µ–¥/—Å–µ–∫
// –ò—Ç–æ–≥–æ: 0.5 + 2.5 * 0.98 = 2.95 –µ–¥/—Å–µ–∫
// –£—Å–∫–æ—Ä–µ–Ω–∏–µ: ~6x
```

### 5.2 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞

```typescript
interface MeditationOptimization {
  // === –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ ===
  recommendations: {
    // –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞—Ä—è–¥–Ω–∏–∫
    useChargerWhen: [
      '–Ø–¥—Ä–æ < 90% (–≤—ã—à–µ - —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ)',
      '–°—Ä–æ—á–Ω–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –¶–∏',
      '–ù–∏–∑–∫–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –¶–∏ –≤ –º–µ—Å—Ç–µ –º–µ–¥–∏—Ç–∞—Ü–∏–∏',
    ];
    
    // –ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
    dontUseChargerWhen: [
      '–Ø–¥—Ä–æ > 95% (—Ä–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–µ–µ –±–∞–∑–æ–≤–æ–µ)',
      '–ù–µ—Ç –∑–∞–ø–∞—Å–∞ –∫–∞–º–Ω–µ–π',
      '–í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∑–∞—Ä—è–¥–Ω–∏–∫–∞',
    ];
    
    // –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
    optimalStrategy: [
      '–ù–∞—á–∞—Ç—å —Å –∫–∞–ø–µ–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞',
      '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏',
      '–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞–ø–∞—Å –∫–∞–º–Ω–µ–π –¥–ª—è –±–æ—è',
    ];
  };
  
  // === –†–ê–°–ß–Å–¢ –û–ü–¢–ò–ú–ê–õ–¨–ù–û–ì–û –†–ï–ñ–ò–ú–ê ===
  function calculateOptimalMode(
    currentQi: number,
    coreCapacity: number,
    chargerCharge: number,
    availableStones: number
  ): ChargerMode {
    const fillPercent = currentQi / coreCapacity * 100;
    
    if (fillPercent < 50) {
      return 'burst';     // –ë—ã—Å—Ç—Ä–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    } else if (fillPercent < 80) {
      return 'normal';    // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ
    } else if (fillPercent < 95) {
      return 'trickle';   // –û—Å—Ç–æ—Ä–æ–∂–Ω–æ–µ –¥–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
    } else {
      return 'off';       // –¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ
    }
  }
}
```

---

## 6Ô∏è‚É£ –ö–û–ù–°–¢–†–£–ö–¶–ò–Ø –ò –ú–ê–¢–ï–†–ò–ê–õ–´

### 6.1 –ú–∞—Ç–µ—Ä–∏–∞–ª—ã

```typescript
type ChargerMaterial = 
  | 'iron'           // –ñ–µ–ª–µ–∑–æ (–±–∞–∑–æ–≤—ã–π)
  | 'spirit_iron'    // –î—É—Ö–æ–≤–Ω–æ–µ –∂–µ–ª–µ–∑–æ
  | 'jade'           // –ù–µ—Ñ—Ä–∏—Ç
  | 'spirit_jade'    // –î—É—Ö–æ–≤–Ω—ã–π –Ω–µ—Ñ—Ä–∏—Ç
  | 'crystal'        // –ö—Ä–∏—Å—Ç–∞–ª–ª
  | 'spirit_crystal' // –î—É—Ö–æ–≤–Ω—ã–π –∫—Ä–∏—Å—Ç–∞–ª–ª
  | 'bone'           // –ö–æ—Å—Ç—å
  | 'dragon_bone';   // –ö–æ—Å—Ç—å –¥—Ä–∞–∫–æ–Ω–∞

interface ChargerMaterialData {
  name: string;
  
  // –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
  properties: {
    baseConductivity: number;   // –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å (–µ–¥/—Å–µ–∫)
    maxConductivity: number;    // –ú–∞–∫—Å. –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å
    durability: number;         // –ü—Ä–æ—á–Ω–æ—Å—Ç—å
    qiRetention: number;        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¶–∏ (%/—á–∞—Å)
    heatResistance: number;     // –¢–µ—Ä–º–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å
  };
  
  // –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∫–∞–º–Ω—è–º–∏
  compatibility: {
    minStoneQuality: QiStoneQuality;
    stoneTypes: QiStoneType[];
  };
  
  // –°—Ç–æ–∏–º–æ—Å—Ç—å
  baseCost: number;            // –î—É—Ö–æ–≤–Ω—ã–µ –∫–∞–º–Ω–∏
}

const CHARGER_MATERIALS: Record<ChargerMaterial, ChargerMaterialData> = {
  iron: {
    name: '–ñ–µ–ª–µ–∑–æ',
    properties: {
      baseConductivity: 5,
      maxConductivity: 10,
      durability: 100,
      qiRetention: 95,          // 5% –ø–æ—Ç–µ—Ä—å –≤ —á–∞—Å
      heatResistance: 50,
    },
    compatibility: {
      minStoneQuality: 'raw',
      stoneTypes: ['calm'],
    },
    baseCost: 50,
  },
  spirit_iron: {
    name: '–î—É—Ö–æ–≤–Ω–æ–µ –∂–µ–ª–µ–∑–æ',
    properties: {
      baseConductivity: 15,
      maxConductivity: 30,
      durability: 200,
      qiRetention: 98,
      heatResistance: 70,
    },
    compatibility: {
      minStoneQuality: 'rough',
      stoneTypes: ['calm'],
    },
    baseCost: 200,
  },
  jade: {
    name: '–ù–µ—Ñ—Ä–∏—Ç',
    properties: {
      baseConductivity: 10,
      maxConductivity: 25,
      durability: 150,
      qiRetention: 97,
      heatResistance: 60,
    },
    compatibility: {
      minStoneQuality: 'rough',
      stoneTypes: ['calm'],
    },
    baseCost: 150,
  },
  spirit_jade: {
    name: '–î—É—Ö–æ–≤–Ω—ã–π –Ω–µ—Ñ—Ä–∏—Ç',
    properties: {
      baseConductivity: 25,
      maxConductivity: 50,
      durability: 300,
      qiRetention: 99,
      heatResistance: 80,
    },
    compatibility: {
      minStoneQuality: 'refined',
      stoneTypes: ['calm', 'chaotic'],
    },
    baseCost: 500,
  },
  dragon_bone: {
    name: '–ö–æ—Å—Ç—å –¥—Ä–∞–∫–æ–Ω–∞',
    properties: {
      baseConductivity: 50,
      maxConductivity: 100,
      durability: 1000,
      qiRetention: 99.5,
      heatResistance: 95,
    },
    compatibility: {
      minStoneQuality: 'pure',
      stoneTypes: ['calm', 'chaotic'],
    },
    baseCost: 5000,
  },
  // ... –¥—Ä—É–≥–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
};
```

### 6.2 –†–µ–¥–∫–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ

```typescript
// –†–µ–¥–∫–æ—Å—Ç—å –∑–∞—Ä—è–¥–Ω–∏–∫–∞ = —Ä–µ–¥–∫–æ—Å—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ + –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è

interface ChargerRarity {
  // –û—Ç —Ä–µ–¥–∫–æ—Å—Ç–∏ –∑–∞–≤–∏—Å—è—Ç:
  // - –ë–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å
  // - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤
  // - –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞
  // - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —É–ª—É—á—à–µ–Ω–∏–π
}

const CHARGER_RARITY_SCALING = {
  common: {
    conductivityMultiplier: 1.0,
    slotsBase: 1,
    bufferMultiplier: 1.0,
    maxEnhancement: 3,
  },
  uncommon: {
    conductivityMultiplier: 1.5,
    slotsBase: 2,
    bufferMultiplier: 1.5,
    maxEnhancement: 5,
  },
  rare: {
    conductivityMultiplier: 2.0,
    slotsBase: 3,
    bufferMultiplier: 2.0,
    maxEnhancement: 7,
  },
  legendary: {
    conductivityMultiplier: 3.0,
    slotsBase: 4,
    bufferMultiplier: 3.0,
    maxEnhancement: 9,
  },
  divine: {
    conductivityMultiplier: 5.0,
    slotsBase: 5,
    bufferMultiplier: 5.0,
    maxEnhancement: 12,
  },
};
```

---

## 7Ô∏è‚É£ –ü–û–õ–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê

### 7.1 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```typescript
interface QiCharger {
  // === –ò–î–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø ===
  id: string;
  name: string;
  description: string;
  
  // === –¢–ò–ü ===
  formFactor: ChargerFormFactor;
  purpose: ChargerPurpose;
  
  // === –†–ï–î–ö–û–°–¢–¨ ===
  rarity: EquipmentRarity;
  quality: number;              // 1-10
  
  // === –ú–ê–¢–ï–†–ò–ê–õ ===
  material: ChargerMaterial;
  
  // === –°–õ–û–¢–´ ===
  slots: QiStoneSlot[];
  activeSlots: number;          // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
  
  // === –ë–£–§–ï–† ===
  buffer: QiBuffer;
  
  // === –†–ï–ñ–ò–ú ===
  mode: ChargerMode;
  modeCooldown: number;         // –ö—É–ª–¥–∞—É–Ω —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–∞
  
  // === –§–ò–ó–ò–ß–ï–°–ö–ò–ï –ü–ê–†–ê–ú–ï–¢–†–´ ===
  physical: {
    weight: number;             // –∫–≥
    durability: number;         // 0-100%
  };
  
  // === –ë–û–ù–£–°–´ (–∫–∞–∫ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∞) ===
  bonuses?: EquipmentBonuses;
  
  // === –¢–†–ï–ë–û–í–ê–ù–ò–Ø ===
  requirements?: EquipmentRequirements;
  
  // === –°–¢–û–ò–ú–û–°–¢–¨ ===
  baseValue: number;
}
```

### 7.2 –ü—Ä–∏–º–µ—Ä—ã –∑–∞—Ä—è–¥–Ω–∏–∫–æ–≤

#### –ë–∞–∑–æ–≤—ã–π –ø–æ—è—Å-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å

```yaml
qi_charger:
  id: "basic_belt_charger"
  name: "–ü—Ä–æ—Å—Ç–æ–π –ø–æ—è—Å-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å"
  description: "–ñ–µ–ª–µ–∑–Ω—ã–π –ø–æ—è—Å —Å —Ç—Ä–µ–º—è –≥–Ω—ë–∑–¥–∞–º–∏ –¥–ª—è –∫–∞–º–Ω–µ–π –¶–∏."
  
formFactor: belt
purpose: hybrid

rarity: common
quality: 3

material: iron

slots:
  - id: "slot_1"
    index: 1
    compatibility:
      minQuality: raw
      maxSize: medium
      types: [calm]
    currentStone: null
    state: { isActive: true, isSealed: false, damageLevel: 0 }
  - id: "slot_2"
    index: 2
    compatibility:
      minQuality: raw
      maxSize: medium
      types: [calm]
    currentStone: null
    state: { isActive: true, isSealed: false, damageLevel: 0 }
  - id: "slot_3"
    index: 3
    compatibility:
      minQuality: raw
      maxSize: small
      types: [calm]
    currentStone: null
    state: { isActive: true, isSealed: false, damageLevel: 0 }

buffer:
  capacity:
    base: 500
    current: 500
    max: 500
  content:
    currentQi: 0
    maxQi: 500
    overchargePossible: false
  flow:
    inputRate: 15
    outputRate: 5
    conductivity: 5
  state:
    temperature: 0
    stability: 100

mode: normal

physical:
  weight: 2.0
  durability: 100

baseValue: 100
```

#### –ú–∞—Å—Ç–µ—Ä—Å–∫–∏–π –±–æ–µ–≤–æ–π –±—Ä–∞—Å–ª–µ—Ç

```yaml
qi_charger:
  id: "master_combat_bracelet"
  name: "–ë–æ–µ–≤–æ–π –±—Ä–∞—Å–ª–µ—Ç –º–∞—Å—Ç–µ—Ä–∞"
  description: "–î—É—Ö–æ–≤–Ω–æ-–∂–µ–ª–µ–∑–Ω—ã–π –±—Ä–∞—Å–ª–µ—Ç –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏–Ω—ä–µ–∫—Ü–∏–π –¶–∏ –≤ –±–æ—é."
  
formFactor: bracelet
purpose: combat

rarity: rare
quality: 8

material: spirit_iron

slots:
  - id: "slot_1"
    index: 1
    compatibility:
      minQuality: refined
      maxSize: small
      types: [calm]
    currentStone: null
    modifiers:
      absorptionBonus: 10
      qiRetention: 98
  - id: "slot_2"
    index: 2
    compatibility:
      minQuality: refined
      maxSize: small
      types: [calm]
    currentStone: null
    modifiers:
      absorptionBonus: 10
      qiRetention: 98

buffer:
  capacity:
    base: 200
    current: 300
    max: 300
  content:
    currentQi: 0
    maxQi: 300
    overchargePossible: true
    overchargePenalty: 2
  flow:
    inputRate: 25
    outputRate: 20
    conductivity: 20
  state:
    temperature: 0
    stability: 100

mode: combat

bonuses:
  stats:
    - type: agility
      value: 2
      isPercent: false

physical:
  weight: 0.5
  durability: 100

requirements:
  cultivationLevel: { min: 3 }
  stats: { conductivity: 1.0 }

baseValue: 800
```

---

## 8Ô∏è‚É£ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –° –°–ò–°–¢–ï–ú–û–ô

### 8.1 Prisma Schema

```prisma
model QiCharger {
  id          String   @id @default(cuid())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  // === –ò–î–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø ===
  name        String
  description String
  
  // === –¢–ò–ü ===
  formFactor  String   // belt, bracelet, necklace, ring, backpack
  purpose     String   // accumulation, combat, hybrid
  
  // === –†–ï–î–ö–û–°–¢–¨ ===
  rarity      String
  quality     Int
  
  // === –ú–ê–¢–ï–†–ò–ê–õ ===
  material    String
  
  // === –°–õ–û–¢–´ (JSON) ===
  slots       Json     // QiStoneSlot[]
  activeSlots Int
  
  // === –ë–£–§–ï–† (JSON) ===
  buffer      Json     // QiBuffer
  
  // === –†–ï–ñ–ò–ú ===
  mode        String
  modeCooldown Int     @default(0)
  
  // === –§–ò–ó–ò–ö–ê ===
  weight      Float
  durability  Float
  
  // === –ë–û–ù–£–°–´ ===
  bonuses     Json?
  
  // === –°–í–Ø–ó–ò ===
  characterId String?
  character   Character? @relation(fields: [characterId], references: [id])
  
  // –ö–∞–º–Ω–∏ –≤ —Å–ª–æ—Ç–∞—Ö
  stones      QiStone[]
  
  @@map("qi_chargers")
}
```

### 8.2 –°–≤—è–∑—å —Å —ç–∫–∏–ø–∏—Ä–æ–≤–∫–æ–π

```typescript
// –ó–∞—Ä—è–¥–Ω–∏–∫ - –ø–æ–¥—Ç–∏–ø —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏

const chargerEquipment: Equipment = {
  equipmentType: 'wearable',
  subType: 'charger_belt', // –∏–ª–∏ charger_bracelet, charger_necklace
  
  // ... —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏
  
  // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∑–∞—Ä—è–¥–Ω–∏–∫–∞:
  chargerData: {
    slots: [...],
    buffer: {...},
    mode: 'normal',
  },
};
```

---

## 9Ô∏è‚É£ –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π)

1. **–¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** ‚Äî `src/types/charger.ts`
2. **–ü—Ä–µ—Å–µ—Ç—ã –∑–∞—Ä—è–¥–Ω–∏–∫–æ–≤** ‚Äî `src/data/presets/charger-presets.ts`
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞–º–Ω—è–º–∏ –¶–∏**

### –§–∞–∑–∞ 2: –ú–µ—Ö–∞–Ω–∏–∫–∏ –ø–æ–≥–ª–æ—â–µ–Ω–∏—è (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í—ã—Å–æ–∫–∏–π)

1. **–†–∞—Å—á—ë—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏** ‚Äî –ø—Ä–æ–≤–æ–¥–∏–º–æ—Å—Ç—å –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å
2. **–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã** ‚Äî off/trickle/normal/burst/combat
3. **–ë—É—Ñ–µ—Ä –¶–∏** ‚Äî –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –∏ –≤—ã–¥–∞—á–∞

### –§–∞–∑–∞ 3: –ë–æ–µ–≤–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°—Ä–µ–¥–Ω–∏–π)

1. **–ò–Ω—ä–µ–∫—Ü–∏—è –¶–∏** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—é
2. **–ü–µ—Ä–µ–≥—Ä–µ–≤ –∏ –∫—É–ª–¥–∞—É–Ω—ã** ‚Äî –±–∞–ª–∞–Ω—Å
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ—Ö–Ω–∏–∫–∞–º–∏**

### –§–∞–∑–∞ 4: UI –∏ –∫—Ä–∞—Ñ—Ç (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–∏–∑–∫–∏–π)

1. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞—Ä—è–¥–Ω–∏–∫–∞** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ—Ç–æ–≤, –±—É—Ñ–µ—Ä–∞
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–Ω—è–º–∏** ‚Äî –≤—Å—Ç–∞–≤–∫–∞/–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
3. **–ö—Ä–∞—Ñ—Ç –∏ —É–ª—É—á—à–µ–Ω–∏—è**

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [qi_stone.md](./qi_stone.md) ‚Äî –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∫–∞–º–Ω–µ–π –¶–∏
- [equip.md](./equip.md) ‚Äî –°–∏—Å—Ç–µ–º–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏
- [body.md](./body.md) ‚Äî –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ç–µ–ª–∞ (–º–µ—Ä–∏–¥–∏–∞–Ω—ã)
- [COMBAT_TECHNIQUES_SYSTEM.md](./COMBAT_TECHNIQUES_SYSTEM.md) ‚Äî –ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2026-02-27*  
*–í–µ—Ä—Å–∏—è: 1.0*
