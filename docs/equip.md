# âš”ï¸ Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ­ĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸ Ğ¸ Ğ‘Ñ€Ğ¾Ğ½Ğ¸

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0  
**Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¾:** 2026-02-28  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** Ğ§ĞµÑ€Ğ½Ğ¾Ğ²Ğ¸Ğº

---

## ğŸ“‹ ĞĞ±Ğ·Ğ¾Ñ€

Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸, Ğ±Ñ€Ğ¾Ğ½Ğ¸ Ğ¸ ÑĞ½Ğ°Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ:
- **Ğ˜Ğ³Ñ€Ğ¾ĞºĞ¾Ğ²** â€” ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°
- **NPC** â€” ÑĞ½Ğ°Ñ€ÑĞ¶ĞµĞ½Ğ¸Ğµ Ğ½ĞµĞ¸Ğ³Ñ€Ğ¾Ğ²Ñ‹Ñ… Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶ĞµĞ¹
- **ĞœĞ¾Ğ½ÑÑ‚Ñ€Ğ¾Ğ²** â€” ĞµÑÑ‚ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½Ñ Ğ¸ Ğ°Ñ€Ñ‚ĞµÑ„Ğ°ĞºÑ‚Ñ‹

### Ğ¡Ğ²ÑĞ·ÑŒ Ñ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸ĞµĞ¹ Ñ‚ĞµĞ»Ğ°

Ğ­ĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° ÑĞ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ñ **Ñ‡Ğ°ÑÑ‚ÑĞ¼Ğ¸ Ñ‚ĞµĞ»Ğ°** (BodyPart) Ğ¸ Ğ¼Ğ¾Ğ¶ĞµÑ‚:
- Ğ—Ğ°Ñ‰Ğ¸Ñ‰Ğ°Ñ‚ÑŒ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ñ‘Ğ½Ğ½Ñ‹Ğµ Ñ‡Ğ°ÑÑ‚Ğ¸ (Ğ±Ñ€Ğ¾Ğ½Ñ)
- Ğ£ÑĞ¸Ğ»Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ñ‡Ğ°ÑÑ‚Ğ¸ (Ğ¿ĞµÑ€Ñ‡Ğ°Ñ‚ĞºĞ¸ â†’ ÑƒÑ€Ğ¾Ğ½ Ñ€ÑƒĞº)
- Ğ—Ğ°Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ (Ğ¿Ñ€Ğ¾Ñ‚ĞµĞ· Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ñ€ÑƒĞºĞ¸)

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Ğ­ĞšĞ˜ĞŸĞ˜Ğ ĞĞ’ĞšĞ (Equipment)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    0. Ğ¢Ğ˜ĞŸ Ğ­ĞšĞ˜ĞŸĞ˜Ğ ĞĞ’ĞšĞ˜ (Type)                       â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ wearable     â€” ĞĞ¾ÑĞ¸Ğ¼Ğ¾Ğµ (Ğ±Ñ€Ğ¾Ğ½Ñ, Ğ¾Ğ´ĞµĞ¶Ğ´Ğ°, ÑƒĞºÑ€Ğ°ÑˆĞµĞ½Ğ¸Ñ)           â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ consumable   â€” Ğ Ğ°ÑÑ…Ğ¾Ğ´ÑƒĞµĞ¼Ğ¾Ğµ (Ñ‚Ğ°Ğ±Ğ»ĞµÑ‚ĞºĞ¸, ÑĞ²Ğ¸Ñ‚ĞºĞ¸)               â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ weapon       â€” ĞÑ€ÑƒĞ¶Ğ¸Ğµ                                       â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ artifact     â€” ĞÑ€Ñ‚ĞµÑ„Ğ°ĞºÑ‚ (Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ñ‹Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚)                 â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ tool         â€” Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ (Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ)      â”‚   â”‚
â”‚  â”‚  â””â”€â”€ implant      â€” Ğ˜Ğ¼Ğ¿Ğ»Ğ°Ğ½Ñ‚ (Ğ²Ğ¶Ğ¸Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ² Ñ‚ĞµĞ»Ğ¾)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    1. Ğ Ğ•Ğ”ĞšĞĞ¡Ğ¢Ğ¬ (Rarity)                           â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ common       â€” ĞĞ±Ñ‹Ñ‡Ğ½Ğ°Ñ â€¢ 0-1 Ğ´Ğ¾Ğ¿. Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²                â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ uncommon     â€” ĞĞµĞ¾Ğ±Ñ‹Ñ‡Ğ½Ğ°Ñ â€¢ 1-2 Ğ´Ğ¾Ğ¿. Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²              â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ rare         â€” Ğ ĞµĞ´ĞºĞ°Ñ â€¢ 2-3 Ğ´Ğ¾Ğ¿. Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²                 â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ legendary    â€” Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°Ñ€Ğ½Ğ°Ñ â€¢ 3-5 Ğ´Ğ¾Ğ¿. Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²            â”‚   â”‚
â”‚  â”‚  â””â”€â”€ divine       â€” Ğ‘Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ â€¢ 5-8 Ğ´Ğ¾Ğ¿. Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ²           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    2. Ğ¤Ğ˜Ğ—Ğ˜ĞšĞ (Physical)                           â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ weight       â€” Ğ’ĞµÑ (ĞºĞ³)                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ size         â€” Ğ Ğ°Ğ·Ğ¼ĞµÑ€ (tiny/small/medium/large/huge)        â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ durability   â€” ĞŸÑ€Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ                                    â”‚   â”‚
â”‚  â”‚  â””â”€â”€ material     â€” ĞœĞ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    3. Ğ‘ĞĞĞ£Ğ¡Ğ« (Bonuses)                            â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ stats        â€” Ğš Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ°Ğ¼ (ÑĞ¸Ğ»Ğ°, Ğ»Ğ¾Ğ²ĞºĞ¾ÑÑ‚ÑŒ, ...)      â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ combat       â€” Ğš Ğ±Ğ¾ĞµĞ²Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ (ÑƒÑ€Ğ¾Ğ½, Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°, ...)       â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ cultivation  â€” Ğš ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸ (Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ, Ğ¦Ğ¸, ...)        â”‚   â”‚
â”‚  â”‚  â””â”€â”€ special      â€” ĞÑĞ¾Ğ±Ñ‹Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    4. Ğ¢Ğ•Ğ¥ĞĞ˜ĞšĞ˜ (Techniques)                        â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ granted      â€” Ğ”Ğ°Ñ€ÑƒĞµĞ¼Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸                             â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ charges      â€” ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ·Ğ°Ñ€ÑĞ´Ğ¾Ğ²                           â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ recharge     â€” ĞŸĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ° (Ğ¦Ğ¸, Ğ²Ñ€ĞµĞ¼Ñ, ĞºĞ²ĞµÑÑ‚)               â”‚   â”‚
â”‚  â”‚  â””â”€â”€ requirements â€” Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    5. Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞĞ• (Additional)                 â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ slots        â€” Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸                             â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ requirements â€” Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğº Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»Ñ                        â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ set_bonuses  â€” Ğ¡ĞµÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ±Ğ¾Ğ½ÑƒÑÑ‹                               â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ enhancement  â€” Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ/Ğ·Ğ°Ñ‚Ğ¾Ñ‡ĞºĞ°                            â”‚   â”‚
â”‚  â”‚  â””â”€â”€ degradation  â€” Ğ˜Ğ·Ğ½Ğ¾Ñ Ğ¸ Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 0ï¸âƒ£ Ğ¢Ğ˜ĞŸ Ğ­ĞšĞ˜ĞŸĞ˜Ğ ĞĞ’ĞšĞ˜ (Equipment Type)

### 0.1 ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹

```typescript
type EquipmentType = 
  | 'wearable'     // ĞĞ¾ÑĞ¸Ğ¼Ğ¾Ğµ
  | 'weapon'       // ĞÑ€ÑƒĞ¶Ğ¸Ğµ
  | 'consumable'   // Ğ Ğ°ÑÑ…Ğ¾Ğ´ÑƒĞµĞ¼Ğ¾Ğµ
  | 'artifact'     // ĞÑ€Ñ‚ĞµÑ„Ğ°ĞºÑ‚
  | 'tool'         // Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚
  | 'implant';     // Ğ˜Ğ¼Ğ¿Ğ»Ğ°Ğ½Ñ‚
```

### 0.2 ĞĞ¾ÑĞ¸Ğ¼Ğ¾Ğµ (Wearable)

ĞŸĞ¾Ğ´Ñ‚Ğ¸Ğ¿Ñ‹ Ğ½Ğ¾ÑĞ¸Ğ¼Ğ¾Ğ³Ğ¾ ÑĞ½Ğ°Ñ€ÑĞ¶ĞµĞ½Ğ¸Ñ:

```typescript
type WearableSubtype = 
  // === Ğ‘Ğ ĞĞĞ¯ ===
  | 'armor_head'       // Ğ¨Ğ»ĞµĞ¼ / Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ÑƒĞ±Ğ¾Ñ€
  | 'armor_torso'      // ĞĞ°Ğ³Ñ€ÑƒĞ´Ğ½Ğ¸Ğº / ĞºĞ¸Ñ€Ğ°ÑĞ°
  | 'armor_arms'       // ĞĞ°Ñ€ÑƒÑ‡Ğ¸ / Ğ½Ğ°Ñ€ÑƒÑ‡Ğ¸
  | 'armor_hands'      // ĞŸĞµÑ€Ñ‡Ğ°Ñ‚ĞºĞ¸ / Ñ€ÑƒĞºĞ°Ğ²Ğ¸Ñ†Ñ‹
  | 'armor_legs'       // ĞŸĞ¾Ğ½Ğ¾Ğ¶Ğ¸ / Ğ½Ğ°Ğ±ĞµĞ´Ñ€ĞµĞ½Ğ½Ğ¸ĞºĞ¸
  | 'armor_feet'       // Ğ¡Ğ°Ğ¿Ğ¾Ğ³Ğ¸ / Ğ¾Ğ±ÑƒĞ²ÑŒ
  | 'armor_full'       // ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ´Ğ¾ÑĞ¿ĞµÑ… (Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ²ÑĞµ ÑĞ»Ğ¾Ñ‚Ñ‹)
  
  // === ĞĞ”Ğ•Ğ–Ğ”Ğ ===
  | 'clothing_head'    // ĞšĞ°Ğ¿ÑÑˆĞ¾Ğ½, ÑˆĞ»ÑĞ¿Ğ°
  | 'clothing_body'    // Ğ Ğ¾Ğ±a, Ğ¿Ğ»Ğ°Ñ‰, ĞºÑƒÑ€Ñ‚ĞºĞ°
  | 'clothing_cloak'   // ĞŸĞ»Ğ°Ñ‰ (Ğ¿Ğ¾Ğ²ĞµÑ€Ñ… Ğ²ÑĞµĞ³Ğ¾)
  | 'clothing_belt'    // ĞŸĞ¾ÑÑ
  
  // === Ğ£ĞšĞ ĞĞ¨Ğ•ĞĞ˜Ğ¯ ===
  | 'jewelry_ring'     // ĞšĞ¾Ğ»ÑŒÑ†Ğ¾
  | 'jewelry_necklace' // ĞĞ¶ĞµÑ€ĞµĞ»ÑŒĞµ / Ğ°Ğ¼ÑƒĞ»ĞµÑ‚
  | 'jewelry_earring'  // Ğ¡ĞµÑ€ÑŒĞ³Ğ°
  | 'jewelry_bracelet' // Ğ‘Ñ€Ğ°ÑĞ»ĞµÑ‚
  
  // === Ğ©Ğ˜Ğ¢Ğ« ===
  | 'shield_small'     // ĞœĞ°Ğ»Ñ‹Ğ¹ Ñ‰Ğ¸Ñ‚ (Ğ±Ğ°ĞºĞ»ĞµÑ€)
  | 'shield_medium'    // Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ Ñ‰Ğ¸Ñ‚
  | 'shield_large'     // Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ Ñ‰Ğ¸Ñ‚ (Ğ¿Ğ°Ğ²ĞµĞ·Ğ°)
  | 'shield_tower';    // Ğ‘Ğ°ÑˆĞµĞ½Ğ½Ñ‹Ğ¹ Ñ‰Ğ¸Ñ‚
```

### 0.3 ĞÑ€ÑƒĞ¶Ğ¸Ğµ (Weapon)

```typescript
type WeaponSubtype =
  // === Ğ‘Ğ›Ğ˜Ğ–ĞĞ˜Ğ™ Ğ‘ĞĞ™ ===
  | 'weapon_unarmed'     // ĞšĞ°ÑÑ‚ĞµÑ‚Ñ‹, ĞºĞ¾Ğ³Ñ‚Ğ¸
  | 'weapon_dagger'      // ĞšĞ¸Ğ½Ğ¶Ğ°Ğ»
  | 'weapon_sword'       // ĞœĞµÑ‡
  | 'weapon_greatsword'  // Ğ”Ğ²ÑƒÑ€ÑƒÑ‡Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‡
  | 'weapon_axe'         // Ğ¢Ğ¾Ğ¿Ğ¾Ñ€
  | 'weapon_mace'        // Ğ‘ÑƒĞ»Ğ°Ğ²Ğ°
  | 'weapon_spear'       // ĞšĞ¾Ğ¿ÑŒÑ‘
  | 'weapon_staff'       // ĞŸĞ¾ÑĞ¾Ñ…
  | 'weapon_polearm'     // Ğ”Ñ€ĞµĞ²ĞºĞ¾Ğ²Ğ¾Ğµ Ğ¾Ñ€ÑƒĞ¶Ğ¸Ğµ
  
  // === Ğ”ĞĞ›Ğ¬ĞĞ˜Ğ™ Ğ‘ĞĞ™ ===
  | 'weapon_bow'         // Ğ›ÑƒĞº
  | 'weapon_crossbow'    // ĞÑ€Ğ±Ğ°Ğ»ĞµÑ‚
  | 'weapon_thrown'      // ĞœĞµÑ‚Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ñ€ÑƒĞ¶Ğ¸Ğµ
  
  // === ĞœĞĞ“Ğ˜Ğ§Ğ•Ğ¡ĞšĞĞ• ===
  | 'weapon_focus'       // ĞœĞ°Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ñ„Ğ¾ĞºÑƒÑ (Ğ¾Ñ€Ğ±, Ğ¶ĞµĞ·Ğ»)
  | 'weapon_talisman'    // Ğ¢Ğ°Ğ»Ğ¸ÑĞ¼Ğ°Ğ½
  | 'weapon_seal';       // ĞŸĞµÑ‡Ğ°Ñ‚ÑŒ
```

### 0.4 Ğ Ğ°ÑÑ…Ğ¾Ğ´ÑƒĞµĞ¼Ğ¾Ğµ (Consumable)

```typescript
type ConsumableSubtype =
  | 'consumable_pill'      // Ğ¢Ğ°Ğ±Ğ»ĞµÑ‚ĞºĞ°
  | 'consumable_potion'    // Ğ—ĞµĞ»ÑŒĞµ
  | 'consumable_scroll'    // Ğ¡Ğ²Ğ¸Ñ‚Ğ¾Ğº (Ğ¾Ğ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ°)
  | 'consumable_talisman'  // Ğ¢Ğ°Ğ»Ğ¸ÑĞ¼Ğ°Ğ½ (Ğ¾Ğ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚)
  | 'consumable_food'      // Ğ•Ğ´Ğ°
  | 'consumable_drink';    // ĞĞ°Ğ¿Ğ¸Ñ‚Ğ¾Ğº
```

### 0.5 ĞÑ€Ñ‚ĞµÑ„Ğ°ĞºÑ‚ (Artifact)

```typescript
type ArtifactSubtype =
  | 'artifact_passive'     // ĞŸĞ°ÑÑĞ¸Ğ²Ğ½Ñ‹Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚ Ğ¿Ñ€Ğ¸ Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğ¸
  | 'artifact_active'      // ĞĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğ¹ ÑÑ„Ñ„ĞµĞºÑ‚
  | 'artifact_soulbound'   // Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ñ Ğ´ÑƒÑˆĞ¾Ğ¹
  | 'artifact_cursed';     // ĞŸÑ€Ğ¾ĞºĞ»ÑÑ‚Ñ‹Ğ¹ (Ğ½ĞµĞ»ÑŒĞ·Ñ ÑĞ½ÑÑ‚ÑŒ)
```

### 0.6 Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ (Tool)

```typescript
type ToolSubtype =
  | 'tool_crafting'     // Ğ ĞµĞ¼ĞµÑĞ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚
  | 'tool_gathering'    // Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ ÑĞ±Ğ¾Ñ€Ğ°
  | 'tool_exploration'  // Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
  | 'tool_medical';     // ĞœĞµĞ´Ğ¸Ñ†Ğ¸Ğ½ÑĞºĞ¸Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚
```

### 0.7 Ğ˜Ğ¼Ğ¿Ğ»Ğ°Ğ½Ñ‚ (Implant)

```typescript
type ImplantSubtype =
  | 'implant_eye'       // Ğ“Ğ»Ğ°Ğ·Ğ½Ğ¾Ğ¹ Ğ¸Ğ¼Ğ¿Ğ»Ğ°Ğ½Ñ‚
  | 'implant_limbs'     // ĞšĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾ÑÑ‚ÑŒ (Ğ¿Ñ€Ğ¾Ñ‚ĞµĞ·)
  | 'implant_internal'  // Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¹ Ğ¾Ñ€Ğ³Ğ°Ğ½
  | 'implant_neural'    // ĞĞµĞ¹Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ¸Ğ¼Ğ¿Ğ»Ğ°Ğ½Ñ‚
  | 'implant_core';     // Ğ˜Ğ¼Ğ¿Ğ»Ğ°Ğ½Ñ‚ ÑĞ´Ñ€Ğ°
```

---

## 1ï¸âƒ£ Ğ Ğ•Ğ”ĞšĞĞ¡Ğ¢Ğ¬ (Rarity)

### 1.1 Ğ£Ñ€Ğ¾Ğ²Ğ½Ğ¸ Ñ€ĞµĞ´ĞºĞ¾ÑÑ‚Ğ¸

```typescript
type EquipmentRarity = 
  | 'common'      // ĞĞ±Ñ‹Ñ‡Ğ½Ğ°Ñ
  | 'uncommon'    // ĞĞµĞ¾Ğ±Ñ‹Ñ‡Ğ½Ğ°Ñ
  | 'rare'        // Ğ ĞµĞ´ĞºĞ°Ñ
  | 'legendary'   // Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°Ñ€Ğ½Ğ°Ñ
  | 'divine';     // Ğ‘Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ
```

### 1.2 Ğ’Ğ»Ğ¸ÑĞ½Ğ¸Ğµ Ñ€ĞµĞ´ĞºĞ¾ÑÑ‚Ğ¸ Ğ½Ğ° Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹

```typescript
interface RarityProperties {
  name: string;
  color: string;              // Ğ¦Ğ²ĞµÑ‚ Ğ² UI
  minBonusStats: number;      // ĞœĞ¸Ğ½. Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ² Ğº Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ°Ğ¼
  maxBonusStats: number;      // ĞœĞ°ĞºÑ. Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ² Ğº Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ°Ğ¼
  minSpecialEffects: number;  // ĞœĞ¸Ğ½. Ğ¾ÑĞ¾Ğ±Ñ‹Ñ… ÑÑ„Ñ„ĞµĞºÑ‚Ğ¾Ğ²
  maxSpecialEffects: number;  // ĞœĞ°ĞºÑ. Ğ¾ÑĞ¾Ğ±Ñ‹Ñ… ÑÑ„Ñ„ĞµĞºÑ‚Ğ¾Ğ²
  minGrantedTechniques: number; // ĞœĞ¸Ğ½. Ğ´Ğ°Ñ€ÑƒĞµĞ¼Ñ‹Ñ… Ñ‚ĞµÑ…Ğ½Ğ¸Ğº
  maxGrantedTechniques: number; // ĞœĞ°ĞºÑ. Ğ´Ğ°Ñ€ÑƒĞµĞ¼Ñ‹Ñ… Ñ‚ĞµÑ…Ğ½Ğ¸Ğº
  dropChance: number;         // Ğ¨Ğ°Ğ½Ñ Ğ²Ñ‹Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ñ (%)
  maxEnhancementLevel: number; // ĞœĞ°ĞºÑ. ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ
}

const RARITY_PROPERTIES: Record<EquipmentRarity, RarityProperties> = {
  common: {
    name: 'ĞĞ±Ñ‹Ñ‡Ğ½Ğ°Ñ',
    color: 'text-gray-400',
    minBonusStats: 0,
    maxBonusStats: 1,
    minSpecialEffects: 0,
    maxSpecialEffects: 0,
    minGrantedTechniques: 0,
    maxGrantedTechniques: 0,
    dropChance: 60,
    maxEnhancementLevel: 3,
  },
  uncommon: {
    name: 'ĞĞµĞ¾Ğ±Ñ‹Ñ‡Ğ½Ğ°Ñ',
    color: 'text-green-400',
    minBonusStats: 1,
    maxBonusStats: 2,
    minSpecialEffects: 0,
    maxSpecialEffects: 1,
    minGrantedTechniques: 0,
    maxGrantedTechniques: 1,
    dropChance: 25,
    maxEnhancementLevel: 5,
  },
  rare: {
    name: 'Ğ ĞµĞ´ĞºĞ°Ñ',
    color: 'text-blue-400',
    minBonusStats: 2,
    maxBonusStats: 3,
    minSpecialEffects: 1,
    maxSpecialEffects: 2,
    minGrantedTechniques: 0,
    maxGrantedTechniques: 1,
    dropChance: 10,
    maxEnhancementLevel: 7,
  },
  legendary: {
    name: 'Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°Ñ€Ğ½Ğ°Ñ',
    color: 'text-amber-400',
    minBonusStats: 3,
    maxBonusStats: 5,
    minSpecialEffects: 2,
    maxSpecialEffects: 3,
    minGrantedTechniques: 1,
    maxGrantedTechniques: 2,
    dropChance: 4,
    maxEnhancementLevel: 9,
  },
  divine: {
    name: 'Ğ‘Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ',
    color: 'text-purple-400',
    minBonusStats: 5,
    maxBonusStats: 8,
    minSpecialEffects: 3,
    maxSpecialEffects: 5,
    minGrantedTechniques: 2,
    maxGrantedTechniques: 3,
    dropChance: 1,
    maxEnhancementLevel: 12,
  },
};
```

### 1.3 Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ¿Ğ¾ Ñ€ĞµĞ´ĞºĞ¾ÑÑ‚Ğ¸

```typescript
function generateBonusStats(rarity: EquipmentRarity): EquipmentBonus[] {
  const props = RARITY_PROPERTIES[rarity];
  const numStats = randomInt(props.minBonusStats, props.maxBonusStats);
  
  const availableStats: EquipmentBonusType[] = [
    'strength', 'agility', 'intelligence', 'vitality',
    'conductivity', 'qiMax', 'qiRegen', 'healthMax',
    'armor', 'damage', 'critChance', 'critDamage',
  ];
  
  const bonuses: EquipmentBonus[] = [];
  const usedStats = new Set<string>();
  
  for (let i = 0; i < numStats; i++) {
    const available = availableStats.filter(s => !usedStats.has(s));
    const stat = randomChoice(available);
    usedStats.add(stat);
    
    const value = generateStatValue(stat, rarity);
    bonuses.push({ type: stat, value, isPercent: isPercentStat(stat) });
  }
  
  return bonuses;
}

function generateStatValue(stat: string, rarity: EquipmentRarity): number {
  const baseValues: Record<string, number> = {
    strength: 2,
    agility: 2,
    intelligence: 2,
    vitality: 2,
    conductivity: 0.1,
    qiMax: 50,
    qiRegen: 0.5,
    healthMax: 10,
    armor: 2,
    damage: 3,
    critChance: 2,
    critDamage: 5,
  };
  
  const rarityMultipliers: Record<EquipmentRarity, number> = {
    common: 1.0,
    uncommon: 1.5,
    rare: 2.0,
    legendary: 3.0,
    divine: 5.0,
  };
  
  const base = baseValues[stat] || 1;
  const mult = rarityMultipliers[rarity];
  const variance = 0.2; // Â±20%
  
  return base * mult * (1 + (Math.random() * 2 - 1) * variance);
}
```

---

## 2ï¸âƒ£ Ğ¤Ğ˜Ğ—Ğ˜ĞšĞ (Physical Properties)

### 2.1 Ğ’ĞµÑ Ğ¸ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹

```typescript
interface PhysicalProperties {
  // === Ğ’Ğ•Ğ¡ ===
  weight: number;              // Ğ’ĞµÑ (ĞºĞ³)
  weightClass: WeightClass;    // ĞšĞ»Ğ°ÑÑ Ğ²ĞµÑĞ°
  
  // === Ğ ĞĞ—ĞœĞ•Ğ  ===
  size: EquipmentSize;         // Ğ Ğ°Ğ·Ğ¼ĞµÑ€
  volume: number;              // ĞĞ±ÑŠÑ‘Ğ¼ (Ğ»Ğ¸Ñ‚Ñ€Ñ‹)
  
  // === ĞŸĞ ĞĞ§ĞĞĞ¡Ğ¢Ğ¬ ===
  durability: DurabilityProps;
  
  // === ĞœĞĞ¢Ğ•Ğ Ğ˜ĞĞ› ===
  material: MaterialType;
  materialQuality: number;     // ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ğ° (1-10)
}

type WeightClass = 
  | 'negligible'  // ĞŸÑ€ĞµĞ½ĞµĞ±Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ‹Ğ¹ (< 0.1 ĞºĞ³)
  | 'light'       // Ğ›Ñ‘Ğ³ĞºĞ¸Ğ¹ (0.1 - 2 ĞºĞ³)
  | 'medium'      // Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ (2 - 10 ĞºĞ³)
  | 'heavy'       // Ğ¢ÑĞ¶Ñ‘Ğ»Ñ‹Ğ¹ (10 - 30 ĞºĞ³)
  | 'very_heavy'  // ĞÑ‡ĞµĞ½ÑŒ Ñ‚ÑĞ¶Ñ‘Ğ»Ñ‹Ğ¹ (30 - 100 ĞºĞ³)
  | 'massive';    // ĞœĞ°ÑÑĞ¸Ğ²Ğ½Ñ‹Ğ¹ (100+ ĞºĞ³)

type EquipmentSize = 
  | 'tiny'        // ĞšÑ€Ğ¾ÑˆĞµÑ‡Ğ½Ñ‹Ğ¹ (ĞºĞ¾Ğ»ÑŒÑ†Ğ¾, Ñ‚Ğ°Ğ±Ğ»ĞµÑ‚ĞºĞ°)
  | 'small'       // ĞœĞ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ğ¹ (ĞºĞ¸Ğ½Ğ¶Ğ°Ğ», Ğ¿ĞµÑ€Ñ‡Ğ°Ñ‚ĞºĞ¸)
  | 'medium'      // Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ (Ğ¼ĞµÑ‡, ÑˆĞ»ĞµĞ¼)
  | 'large'       // Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ (Ğ´Ğ²ÑƒÑ€ÑƒÑ‡Ğ½Ğ¸Ğº, Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½Ñ)
  | 'huge';       // ĞĞ³Ñ€Ğ¾Ğ¼Ğ½Ñ‹Ğ¹ (Ğ¾ÑĞ°Ğ´Ğ½Ğ¾Ğµ Ğ¾Ñ€ÑƒĞ´Ğ¸Ğµ)
```

### 2.2 Ğ’Ğ»Ğ¸ÑĞ½Ğ¸Ğµ Ğ²ĞµÑĞ°

```typescript
interface WeightEffects {
  // Ğ¨Ñ‚Ñ€Ğ°Ñ„ Ğº ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚Ğ¸
  speedPenalty: number;        // % ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚Ğ¸
  
  // Ğ¨Ñ‚Ñ€Ğ°Ñ„ Ğº ÑƒĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ñ
  dodgePenalty: number;        // % ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ ÑƒĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ñ
  
  // Ğ‘Ğ¾Ğ½ÑƒÑ Ğº ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
  stabilityBonus: number;      // % ÑĞ¾Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚Ğ±Ñ€Ğ°ÑÑ‹Ğ²Ğ°Ğ½Ğ¸Ñ
  
  // Ğ£ÑÑ‚Ğ°Ğ»Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ½Ğ¾ÑˆĞµĞ½Ğ¸Ğ¸
  fatiguePerHour: number;      // % ÑƒÑÑ‚Ğ°Ğ»Ğ¾ÑÑ‚Ğ¸ Ğ² Ñ‡Ğ°Ñ
  
  // Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğº ÑĞ¸Ğ»Ğµ
  strengthRequirement: number; // ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑĞ¸Ğ»Ğ°
}

function calculateWeightEffects(
  weight: number, 
  characterStrength: number
): WeightEffects {
  const basePenalty = Math.max(0, (weight - 5) / 50); // 1% Ğ·Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 0.5 ĞºĞ³ ÑĞ²ĞµÑ€Ñ… 5 ĞºĞ³
  
  // Ğ¡Ğ¸Ğ»Ğ° ÑĞ½Ğ¸Ğ¶Ğ°ĞµÑ‚ ÑˆÑ‚Ñ€Ğ°Ñ„Ñ‹
  const strengthReduction = Math.max(0, characterStrength - 10) * 0.05; // 5% Ğ·Ğ° ĞºĞ°Ğ¶Ğ´ÑƒÑ ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ñƒ ÑĞ¸Ğ»Ñ‹ Ğ²Ñ‹ÑˆĞµ 10
  
  const effectivePenalty = Math.max(0, basePenalty * (1 - strengthReduction));
  
  return {
    speedPenalty: effectivePenalty,
    dodgePenalty: effectivePenalty * 0.5,
    stabilityBonus: Math.min(50, weight / 2), // 1% Ğ·Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 2 ĞºĞ³
    fatiguePerHour: Math.max(0, (weight - 20) * 0.1), // Ğ£ÑÑ‚Ğ°Ğ»Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ²ĞµÑĞµ > 20 ĞºĞ³
    strengthRequirement: Math.floor(weight / 3),
  };
}
```

### 2.3 ĞŸÑ€Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ

```typescript
interface DurabilityProps {
  current: number;             // Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ Ğ¿Ñ€Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ
  max: number;                 // ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ
  degradationRate: number;     // Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ·Ğ½Ğ¾ÑĞ° (% Ğ·Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ)
  repairCost: number;          // Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚Ğ° (Ğ´ÑƒÑ…Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼Ğ½Ğ¸)
  
  // Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
  condition: EquipmentCondition;
}

type EquipmentCondition = 
  | 'pristine'    // Ğ˜Ğ´ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğµ (100%)
  | 'excellent'   // ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğµ (80-99%)
  | 'good'        // Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞµĞµ (60-79%)
  | 'worn'        // ĞŸĞ¾Ğ½Ğ¾ÑˆĞµĞ½Ğ½Ğ¾Ğµ (40-59%)
  | 'damaged'     // ĞŸĞ¾Ğ²Ñ€ĞµĞ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğµ (20-39%)
  | 'broken';     // Ğ¡Ğ»Ğ¾Ğ¼Ğ°Ğ½Ğ½Ğ¾Ğµ (< 20%)

// Ğ’Ğ»Ğ¸ÑĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ½Ğ° ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ
function getConditionMultiplier(condition: EquipmentCondition): number {
  const multipliers: Record<EquipmentCondition, number> = {
    pristine: 1.0,
    excellent: 0.95,
    good: 0.85,
    worn: 0.7,
    damaged: 0.5,
    broken: 0.2,
  };
  return multipliers[condition];
}
```

### 2.4 ĞœĞ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹

```typescript
type MaterialType = 
  // === ĞĞ Ğ“ĞĞĞ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ• ===
  | 'leather'      // ĞšĞ¾Ğ¶Ğ°
  | 'silk'         // Ğ¨Ñ‘Ğ»Ğº
  | 'cloth'        // Ğ¢ĞºĞ°Ğ½ÑŒ
  | 'bone'         // ĞšĞ¾ÑÑ‚ÑŒ
  | 'wood'         // Ğ”ĞµÑ€ĞµĞ²Ğ¾
  
  // === ĞœĞ•Ğ¢ĞĞ›Ğ›Ğ« ===
  | 'iron'         // Ğ–ĞµĞ»ĞµĞ·Ğ¾
  | 'steel'        // Ğ¡Ñ‚Ğ°Ğ»ÑŒ
  | 'bronze'       // Ğ‘Ñ€Ğ¾Ğ½Ğ·Ğ°
  | 'silver'       // Ğ¡ĞµÑ€ĞµĞ±Ñ€Ğ¾
  | 'gold'         // Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ¾
  
  // === ĞĞ¡ĞĞ‘Ğ«Ğ• ===
  | 'spirit_iron'     // Ğ”ÑƒÑ…Ğ¾Ğ²Ğ½Ğ¾Ğµ Ğ¶ĞµĞ»ĞµĞ·Ğ¾
  | 'cold_iron'       // Ğ¥Ğ¾Ğ»Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ¶ĞµĞ»ĞµĞ·Ğ¾
  | 'star_metal'      // Ğ—Ğ²Ñ‘Ğ·Ğ´Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‚Ğ°Ğ»Ğ»
  | 'dragon_bone'     // ĞšĞ¾ÑÑ‚ÑŒ Ğ´Ñ€Ğ°ĞºĞ¾Ğ½Ğ°
  | 'spirit_crystal'  // Ğ”ÑƒÑ…Ğ¾Ğ²Ğ½Ñ‹Ğ¹ ĞºÑ€Ğ¸ÑÑ‚Ğ°Ğ»Ğ»
  
  // === ĞœĞĞ“Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ• ===
  | 'void_matter'     // ĞœĞ°Ñ‚ĞµÑ€Ğ¸Ñ Ğ¿ÑƒÑÑ‚Ğ¾Ñ‚Ñ‹
  | 'elemental'       // Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ñ
  | 'chaos_matter';   // ĞœĞ°Ñ‚ĞµÑ€Ğ¸Ñ Ñ…Ğ°Ğ¾ÑĞ°

interface MaterialProperties {
  name: string;
  baseArmor: number;          // Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½Ñ
  baseDurability: number;     // Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ğ¿Ñ€Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ
  weightMultiplier: number;   // ĞœĞ½Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒ Ğ²ĞµÑĞ°
  qiConductivity: number;     // ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¦Ğ¸
  elementalAffinity?: PresetElement; // Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑÑ€Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾
  specialProperties: string[];
}

const MATERIALS: Record<MaterialType, MaterialProperties> = {
  leather: {
    name: 'ĞšĞ¾Ğ¶Ğ°',
    baseArmor: 5,
    baseDurability: 50,
    weightMultiplier: 0.8,
    qiConductivity: 0.8,
    specialProperties: ['flexible', 'quiet'],
  },
  steel: {
    name: 'Ğ¡Ñ‚Ğ°Ğ»ÑŒ',
    baseArmor: 15,
    baseDurability: 100,
    weightMultiplier: 1.0,
    qiConductivity: 0.5,
    specialProperties: ['sturdy', 'magnetic'],
  },
  spirit_iron: {
    name: 'Ğ”ÑƒÑ…Ğ¾Ğ²Ğ½Ğ¾Ğµ Ğ¶ĞµĞ»ĞµĞ·Ğ¾',
    baseArmor: 25,
    baseDurability: 150,
    weightMultiplier: 0.7,
    qiConductivity: 1.5,
    specialProperties: ['qi_reactive', 'self_repair'],
  },
  dragon_bone: {
    name: 'ĞšĞ¾ÑÑ‚ÑŒ Ğ´Ñ€Ğ°ĞºĞ¾Ğ½Ğ°',
    baseArmor: 40,
    baseDurability: 300,
    weightMultiplier: 0.5,
    qiConductivity: 3.0,
    elementalAffinity: 'neutral',
    specialProperties: ['indestructible', 'qi_amplifier', 'ancient'],
  },
  // ... Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹
};
```

---

## 3ï¸âƒ£ Ğ‘ĞĞĞ£Ğ¡Ğ« (Bonuses)

### 3.1 Ğ¢Ğ¸Ğ¿Ñ‹ Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ²

```typescript
type EquipmentBonusType = 
  // === Ğ¥ĞĞ ĞĞšĞ¢Ğ•Ğ Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ˜ ===
  | 'strength'           // Ğ¡Ğ¸Ğ»Ğ°
  | 'agility'            // Ğ›Ğ¾Ğ²ĞºĞ¾ÑÑ‚ÑŒ
  | 'intelligence'       // Ğ˜Ğ½Ñ‚ĞµĞ»Ğ»ĞµĞºÑ‚
  | 'vitality'           // Ğ–Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ğ°Ñ ÑĞ¸Ğ»Ğ°
  
  // === Ğ¦Ğ˜ Ğ˜ ĞšĞ£Ğ›Ğ¬Ğ¢Ğ˜Ğ’ĞĞ¦Ğ˜Ğ¯ ===
  | 'qiMax'              // ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¦Ğ¸
  | 'qiRegen'            // Ğ ĞµĞ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¦Ğ¸ (%/Ñ‡Ğ°Ñ)
  | 'conductivity'       // ĞŸÑ€Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¼ĞµÑ€Ğ¸Ğ´Ğ¸Ğ°Ğ½
  | 'coreCapacity'       // ĞĞ¼ĞºĞ¾ÑÑ‚ÑŒ ÑĞ´Ñ€Ğ°
  | 'breakthroughChance' // Ğ¨Ğ°Ğ½Ñ Ğ¿Ñ€Ğ¾Ñ€Ñ‹Ğ²Ğ° (%)
  
  // === Ğ‘ĞĞ•Ğ’Ğ«Ğ• ===
  | 'damage'             // Ğ£Ñ€Ğ¾Ğ½
  | 'armor'              // Ğ‘Ñ€Ğ¾Ğ½Ñ
  | 'armorPenetration'   // ĞŸÑ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸Ğµ Ğ±Ñ€Ğ¾Ğ½Ğ¸
  | 'critChance'         // Ğ¨Ğ°Ğ½Ñ ĞºÑ€Ğ¸Ñ‚Ğ°
  | 'critDamage'         // ĞšÑ€Ğ¸Ñ‚. ÑƒÑ€Ğ¾Ğ½
  | 'dodgeChance'        // Ğ¨Ğ°Ğ½Ñ ÑƒĞºĞ»Ğ¾Ğ½ĞµĞ½Ğ¸Ñ
  | 'blockChance'        // Ğ¨Ğ°Ğ½Ñ Ğ±Ğ»Ğ¾ĞºĞ°
  | 'blockEffectiveness' // Ğ­Ñ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğ±Ğ»Ğ¾ĞºĞ°
  
  // === Ğ—ĞĞ©Ğ˜Ğ¢ĞĞ«Ğ• ===
  | 'healthMax'          // ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ
  | 'healthRegen'        // Ğ ĞµĞ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ
  | 'resistance_physical' // Ğ¡Ğ¾Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ„Ğ¸Ğ·Ğ¸ĞºĞµ
  | 'resistance_fire'    // Ğ¡Ğ¾Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ğ³Ğ½Ñ
  | 'resistance_water'   // Ğ¡Ğ¾Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾Ğ´Ğµ
  | 'resistance_earth'   // Ğ¡Ğ¾Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·ĞµĞ¼Ğ»Ğµ
  | 'resistance_air'     // Ğ¡Ğ¾Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ´ÑƒÑ…Ñƒ
  | 'resistance_void'    // Ğ¡Ğ¾Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿ÑƒÑÑ‚Ğ¾Ñ‚Ğµ
  
  // === Ğ¡ĞŸĞ•Ğ¦Ğ˜ĞĞ›Ğ¬ĞĞ«Ğ• ===
  | 'moveSpeed'          // Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ
  | 'attackSpeed'        // Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ°Ñ‚Ğ°ĞºĞ¸
  | 'castSpeed'          // Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ ĞºĞ°ÑÑ‚Ğ°
  | 'perception'         // Ğ’Ğ¾ÑĞ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğµ
  | 'stealth'            // Ğ¡ĞºÑ€Ñ‹Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ
  | 'intimidation';      // Ğ—Ğ°Ğ¿ÑƒĞ³Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ

interface EquipmentBonus {
  type: EquipmentBonusType;
  value: number;
  isPercent: boolean;         // true = Ğ¿Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ½Ñ‹Ğ¹, false = Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ñ‹Ğ¹
  condition?: BonusCondition; // Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸
}

interface BonusCondition {
  type: 'combat' | 'cultivation' | 'time' | 'location' | 'enemy_type';
  value: any;
}
```

### 3.2 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ² ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸

```typescript
interface EquipmentBonuses {
  // === Ğ‘ĞĞ—ĞĞ’Ğ«Ğ• Ğ‘ĞĞĞ£Ğ¡Ğ« ===
  stats: EquipmentBonus[];
  
  // === Ğ£Ğ¡Ğ›ĞĞ’ĞĞ«Ğ• Ğ‘ĞĞĞ£Ğ¡Ğ« ===
  conditional: {
    inCombat?: EquipmentBonus[];      // ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹ Ğ² Ğ±Ğ¾Ñ
    outOfCombat?: EquipmentBonus[];   // ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹ Ğ²Ğ½Ğµ Ğ±Ğ¾Ñ
    atNight?: EquipmentBonus[];       // ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹ Ğ½Ğ¾Ñ‡ÑŒÑ
    atDay?: EquipmentBonus[];         // ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹ Ğ´Ğ½Ñ‘Ğ¼
    lowHealth?: EquipmentBonus[];     // ĞŸÑ€Ğ¸ Ğ½Ğ¸Ğ·ĞºĞ¾Ğ¼ HP
    fullQi?: EquipmentBonus[];        // ĞŸÑ€Ğ¸ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ Ğ¦Ğ¸
  };
  
  // === Ğ‘ĞĞĞ£Ğ¡Ğ« Ğš Ğ§ĞĞ¡Ğ¢Ğ¯Ğœ Ğ¢Ğ•Ğ›Ğ ===
  bodyPartBonuses?: {
    partId: string;
    bonuses: EquipmentBonus[];
  }[];
  
  // === Ğ‘ĞĞĞ£Ğ¡Ğ« Ğš Ğ¢Ğ•Ğ¥ĞĞ˜ĞšĞĞœ ===
  techniqueBonuses?: {
    techniqueType?: TechniqueType;    // Ğ¢Ğ¸Ğ¿ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸
    element?: PresetElement;          // Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚
    bonus: {
      damageMultiplier?: number;
      costReduction?: number;
      castSpeedMultiplier?: number;
    };
  }[];
}
```

### 3.3 ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ²

```typescript
// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: ĞšĞ¾Ğ»ÑŒÑ†Ğ¾ ÑĞ¸Ğ»Ñ‹
const ringOfStrength: EquipmentBonuses = {
  stats: [
    { type: 'strength', value: 5, isPercent: false },
    { type: 'critDamage', value: 10, isPercent: true },
  ],
};

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: ĞĞ³Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ°Ğ¼ÑƒĞ»ĞµÑ‚
const fireAmulet: EquipmentBonuses = {
  stats: [
    { type: 'resistance_fire', value: 30, isPercent: true },
    { type: 'intelligence', value: 3, isPercent: false },
  ],
  techniqueBonuses: [
    {
      element: 'fire',
      bonus: {
        damageMultiplier: 1.25, // +25% ÑƒÑ€Ğ¾Ğ½Ğ° Ğº Ğ¾Ğ³Ğ½ĞµĞ½Ğ½Ñ‹Ğ¼ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ°Ğ¼
      },
    },
  ],
};

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: Ğ‘Ğ¾ĞµĞ²Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½Ñ
const battleArmor: EquipmentBonuses = {
  stats: [
    { type: 'armor', value: 50, isPercent: false },
    { type: 'healthMax', value: 100, isPercent: false },
    { type: 'strength', value: 5, isPercent: false },
  ],
  conditional: {
    inCombat: [
      { type: 'critChance', value: 5, isPercent: true },
    ],
  },
};
```

---

## 4ï¸âƒ£ Ğ¢Ğ•Ğ¥ĞĞ˜ĞšĞ˜ (Granted Techniques)

### 4.1 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ´Ğ°Ñ€ÑƒĞµĞ¼Ñ‹Ñ… Ñ‚ĞµÑ…Ğ½Ğ¸Ğº

```typescript
interface GrantedTechnique {
  techniqueId: string;         // ID Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸
  
  // === Ğ—ĞĞ Ğ¯Ğ”Ğ« ===
  charges: ChargeSystem;
  
  // === Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯ ===
  requirements?: {
    cultivationLevel?: number;
    minStat?: { stat: string; value: number };
    qiCost?: number;           // Ğ¦Ğ¸ Ğ´Ğ»Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸
    healthCost?: number;       // HP Ğ´Ğ»Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸
  };
  
  // === ĞœĞĞ”Ğ˜Ğ¤Ğ˜ĞšĞĞ¢ĞĞ Ğ« ===
  modifiers?: {
    damageMultiplier?: number;
    costMultiplier?: number;
    cooldownMultiplier?: number;
    addedEffects?: TechniqueEffects;
  };
  
  // === ĞĞ’Ğ¢ĞĞĞšĞ¢Ğ˜Ğ’ĞĞ¦Ğ˜Ğ¯ ===
  autoActivate?: {
    trigger: 'onHit' | 'onDamage' | 'onLowHealth' | 'onBreakthrough';
    chance: number;            // % ÑˆĞ°Ğ½Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸
  };
}

interface ChargeSystem {
  current: number;             // Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ·Ğ°Ñ€ÑĞ´Ñ‹
  max: number;                 // ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ°Ñ€ÑĞ´Ñ‹
  
  // === ĞŸĞ•Ğ Ğ•Ğ—ĞĞ Ğ¯Ğ”ĞšĞ ===
  recharge: RechargeType;
}

type RechargeType = 
  | { type: 'none' }           // ĞĞµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ¶Ğ°ĞµÑ‚ÑÑ
  | { type: 'time'; hours: number } // ĞŸĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ° Ğ²Ñ€ĞµĞ¼ĞµĞ½ĞµĞ¼
  | { type: 'qi'; amount: number }  // ĞŸĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ° Ğ¦Ğ¸
  | { type: 'spirit_stone'; amount: number } // ĞŸĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ° ĞºĞ°Ğ¼Ğ½ÑĞ¼Ğ¸
  | { type: 'combat'; perKill: number } // ĞŸĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ° Ğ·Ğ° ÑƒĞ±Ğ¸Ğ¹ÑÑ‚Ğ²Ğ°
  | { type: 'meditation'; hours: number } // ĞŸĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ° Ğ¼ĞµĞ´Ğ¸Ñ‚Ğ°Ñ†Ğ¸ĞµĞ¹
  | { type: 'event'; eventId: string }; // ĞŸĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ° ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸ĞµĞ¼
```

### 4.2 ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹

```typescript
// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: Ğ¡Ğ²Ğ¸Ñ‚Ğ¾Ğº ĞĞ³Ğ½ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑˆĞ°Ñ€Ğ° (Ğ¾Ğ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹)
const fireScroll: GrantedTechnique = {
  techniqueId: 'fire_ball',
  charges: {
    current: 1,
    max: 1,
    recharge: { type: 'none' },
  },
  requirements: {
    cultivationLevel: 1,
    qiCost: 10, // Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¦Ğ¸ Ğ´Ğ»Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸ ÑĞ²Ğ¸Ñ‚ĞºĞ°
  },
  modifiers: {
    damageMultiplier: 0.8, // ĞĞ° 20% ÑĞ»Ğ°Ğ±ĞµĞµ Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğ¹ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸
  },
};

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: ĞŸĞ¾ÑĞ¾Ñ… ĞœĞ¾Ğ»Ğ½Ğ¸Ğ¹ (Ğ¿ĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ¶Ğ°ĞµÑ‚ÑÑ Ğ¦Ğ¸)
const lightningStaff: GrantedTechnique = {
  techniqueId: 'lightning_bolt',
  charges: {
    current: 3,
    max: 5,
    recharge: { type: 'qi', amount: 50 }, // 50 Ğ¦Ğ¸ Ğ·Ğ° Ğ·Ğ°Ñ€ÑĞ´
  },
  requirements: {
    cultivationLevel: 3,
    qiCost: 20,
  },
  modifiers: {
    damageMultiplier: 1.2, // ĞĞ° 20% ÑĞ¸Ğ»ÑŒĞ½ĞµĞµ
  },
};

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ Ğ°Ğ¼ÑƒĞ»ĞµÑ‚ (Ğ°Ğ²Ñ‚Ğ¾Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ)
const protectiveAmulet: GrantedTechnique = {
  techniqueId: 'emergency_shield',
  charges: {
    current: 1,
    max: 1,
    recharge: { type: 'time', hours: 24 },
  },
  autoActivate: {
    trigger: 'onLowHealth', // ĞŸÑ€Ğ¸ HP < 20%
    chance: 100,
  },
};

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: ĞœĞµÑ‡ ĞšÑ€Ğ¾Ğ²Ğ¸ (Ğ¿ĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ° Ğ·Ğ° ÑƒĞ±Ğ¸Ğ¹ÑÑ‚Ğ²Ğ°)
const bloodSword: GrantedTechnique = {
  techniqueId: 'blood_drain',
  charges: {
    current: 0,
    max: 10,
    recharge: { type: 'combat', perKill: 1 },
  },
  requirements: {
    qiCost: 5,
  },
};
```

### 4.3 Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ±Ğ¾ĞµĞ²Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹

```typescript
// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ°Ñ€ÑƒĞµĞ¼Ğ¾Ğ¹ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸
function useGrantedTechnique(
  equipment: Equipment,
  grantedTech: GrantedTechnique,
  character: Character,
  target?: Entity
): TechniqueResult {
  // 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ·Ğ°Ñ€ÑĞ´Ğ¾Ğ²
  if (grantedTech.charges.current <= 0) {
    return { success: false, error: 'ĞĞµÑ‚ Ğ·Ğ°Ñ€ÑĞ´Ğ¾Ğ²' };
  }
  
  // 2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹
  if (grantedTech.requirements) {
    const req = grantedTech.requirements;
    
    if (req.cultivationLevel && character.cultivationLevel < req.cultivationLevel) {
      return { success: false, error: `Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸ ${req.cultivationLevel}` };
    }
    
    if (req.qiCost && character.currentQi < req.qiCost) {
      return { success: false, error: 'ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ¦Ğ¸' };
    }
  }
  
  // 3. ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ±Ğ°Ğ·Ğ¾Ğ²ÑƒÑ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºÑƒ
  const baseTechnique = getTechniquePresetById(grantedTech.techniqueId);
  if (!baseTechnique) {
    return { success: false, error: 'Ğ¢ĞµÑ…Ğ½Ğ¸ĞºĞ° Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ°' };
  }
  
  // 4. ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ÑĞµĞ¼ Ğ¼Ğ¾Ğ´Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ñ‹
  const modifiedTechnique = applyTechniqueModifiers(baseTechnique, grantedTech.modifiers);
  
  // 5. Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºÑƒ
  const result = executeTechnique(modifiedTechnique, character, target);
  
  // 6. Ğ¢Ñ€Ğ°Ñ‚Ğ¸Ğ¼ Ğ·Ğ°Ñ€ÑĞ´ Ğ¸ Ğ¦Ğ¸
  grantedTech.charges.current--;
  if (grantedTech.requirements?.qiCost) {
    character.currentQi -= grantedTech.requirements.qiCost;
  }
  
  return result;
}

// ĞŸĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ° Ñ‚ĞµÑ…Ğ½Ğ¸Ğº
function rechargeGrantedTechnique(
  grantedTech: GrantedTechnique,
  character: Character,
  method: RechargeType
): boolean {
  const recharge = grantedTech.charges.recharge;
  
  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ‚Ğ¸Ğ¿Ğ° Ğ¿ĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´ĞºĞ¸
  if (method.type !== (recharge as any).type) {
    return false;
  }
  
  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° Ğ¿Ğ¾Ğ»Ğ½ÑƒÑ Ğ·Ğ°Ñ€ÑĞ´ĞºÑƒ
  if (grantedTech.charges.current >= grantedTech.charges.max) {
    return false;
  }
  
  switch (recharge.type) {
    case 'qi':
      if (character.currentQi >= recharge.amount) {
        character.currentQi -= recharge.amount;
        grantedTech.charges.current++;
        return true;
      }
      break;
      
    case 'spirit_stone':
      if (character.spiritStones >= recharge.amount) {
        character.spiritStones -= recharge.amount;
        grantedTech.charges.current++;
        return true;
      }
      break;
      
    case 'time':
    case 'meditation':
      // ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
      break;
      
    case 'combat':
      // ĞĞ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ ÑƒĞ±Ğ¸Ğ¹ÑÑ‚Ğ²Ğµ Ğ²Ñ€Ğ°Ğ³Ğ°
      grantedTech.charges.current = Math.min(
        grantedTech.charges.max,
        grantedTech.charges.current + recharge.perKill
      );
      break;
  }
  
  return false;
}
```

---

## 5ï¸âƒ£ Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞĞ• (Additional Properties)

### 5.1 Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸

```typescript
type EquipmentSlot = 
  // === ĞĞ¡ĞĞĞ’ĞĞ«Ğ• ===
  | 'head'         // Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ°
  | 'torso'        // Ğ¢Ğ¾Ñ€Ñ
  | 'arms'         // Ğ ÑƒĞºĞ¸ (Ğ½Ğ°Ñ€ÑƒÑ‡Ğ¸)
  | 'hands'        // ĞšĞ¸ÑÑ‚Ğ¸ (Ğ¿ĞµÑ€Ñ‡Ğ°Ñ‚ĞºĞ¸)
  | 'legs'         // ĞĞ¾Ğ³Ğ¸
  | 'feet'         // Ğ¡Ñ‚ÑƒĞ¿Ğ½Ğ¸
  
  // === ĞĞ”Ğ•Ğ–Ğ”Ğ ===
  | 'body'         // Ğ¢ĞµĞ»Ğ¾ (Ñ€Ğ¾Ğ±Ğ°, ĞºÑƒÑ€Ñ‚ĞºĞ°)
  | 'cloak'        // ĞŸĞ»Ğ°Ñ‰ (Ğ¿Ğ¾Ğ²ĞµÑ€Ñ…)
  | 'belt'         // ĞŸĞ¾ÑÑ
  
  // === Ğ£ĞšĞ ĞĞ¨Ğ•ĞĞ˜Ğ¯ ===
  | 'ring_left'    // ĞšĞ¾Ğ»ÑŒÑ†Ğ¾ Ğ»ĞµĞ²Ğ¾Ğµ
  | 'ring_right'   // ĞšĞ¾Ğ»ÑŒÑ†Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğµ
  | 'necklace'     // ĞĞ¶ĞµÑ€ĞµĞ»ÑŒĞµ
  | 'earring'      // Ğ¡ĞµÑ€ÑŒĞ³Ğ°
  
  // === ĞĞ Ğ£Ğ–Ğ˜Ğ• ===
  | 'weapon_main'  // ĞÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ Ñ€ÑƒĞºĞ°
  | 'weapon_off'   // Ğ’Ñ‚Ğ¾Ñ€Ğ¸Ñ‡Ğ½Ğ°Ñ Ñ€ÑƒĞºĞ°
  | 'weapon_twohanded' // Ğ”Ğ²ÑƒÑ€ÑƒÑ‡Ğ½Ğ¾Ğµ Ğ¾Ñ€ÑƒĞ¶Ğ¸Ğµ
  
  // === Ğ˜ĞĞ’Ğ•ĞĞ¢ĞĞ Ğ¬ ===
  | 'backpack'     // Ğ ÑĞºĞ·Ğ°Ğº
  | 'pouch';       // ĞšĞ¾ÑˆĞµĞ»ÑŒ

interface SlotProperties {
  slot: EquipmentSlot;
  allowedTypes: WearableSubtype[];
  requiredBodyParts?: string[];  // Ğ¢Ñ€ĞµĞ±ÑƒĞµĞ¼Ñ‹Ğµ Ñ‡Ğ°ÑÑ‚Ğ¸ Ñ‚ĞµĞ»Ğ°
  conflicts?: EquipmentSlot[];   // ĞšĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚ÑƒÑÑ‰Ğ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
}

const SLOT_PROPERTIES: Record<EquipmentSlot, SlotProperties> = {
  head: {
    slot: 'head',
    allowedTypes: ['armor_head', 'clothing_head'],
    requiredBodyParts: ['head'],
  },
  torso: {
    slot: 'torso',
    allowedTypes: ['armor_torso', 'armor_full'],
    requiredBodyParts: ['torso'],
    conflicts: ['body'],
  },
  hands: {
    slot: 'hands',
    allowedTypes: ['armor_hands'],
    requiredBodyParts: ['left_hand', 'right_hand'],
  },
  weapon_main: {
    slot: 'weapon_main',
    allowedTypes: ['weapon_dagger', 'weapon_sword', 'weapon_axe', /* ... */],
    conflicts: ['weapon_twohanded'],
  },
  // ... Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ ÑĞ»Ğ¾Ñ‚Ñ‹
};
```

### 5.2 Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğº Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»Ñ

```typescript
interface EquipmentRequirements {
  // === Ğ£Ğ ĞĞ’Ğ•ĞĞ¬ ĞšĞ£Ğ›Ğ¬Ğ¢Ğ˜Ğ’ĞĞ¦Ğ˜Ğ˜ ===
  cultivationLevel?: number | { min: number; max?: number };
  
  // === Ğ¥ĞĞ ĞĞšĞ¢Ğ•Ğ Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ˜ ===
  stats?: {
    strength?: number;
    agility?: number;
    intelligence?: number;
    vitality?: number;
    conductivity?: number;
  };
  
  // === Ğ’Ğ˜Ğ” ===
  species?: SpeciesType[] | 'any';
  
  // === Ğ¢Ğ•Ğ¥ĞĞ˜ĞšĞ˜ ===
  knownTechniques?: string[];    // Ğ”Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ñ‹
  cultivationTechnique?: string; // Ğ¢ĞµÑ…Ğ½Ğ¸ĞºĞ° ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸
  
  // === Ğ§ĞĞ¡Ğ¢Ğ˜ Ğ¢Ğ•Ğ›Ğ ===
  requiredBodyParts?: string[];  // Ğ¢Ñ€ĞµĞ±ÑƒĞµĞ¼Ñ‹Ğµ Ñ‡Ğ°ÑÑ‚Ğ¸ Ñ‚ĞµĞ»Ğ°
  intactBodyParts?: string[];    // Ğ”Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ğ½ĞµĞ¿Ğ¾Ğ²Ñ€ĞµĞ¶Ğ´ĞµĞ½Ñ‹
  
  // === Ğ Ğ•ĞŸĞ£Ğ¢ĞĞ¦Ğ˜Ğ¯ / Ğ¡Ğ•ĞšĞ¢Ğ ===
  sectRank?: string;
  reputation?: number;
  
  // === Ğ”Ğ Ğ£Ğ“ĞĞ• ===
  level?: number;              // ĞĞ±Ñ‰Ğ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ
  quests?: string[];           // ĞŸÑ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ½Ñ‹Ğµ ĞºĞ²ĞµÑÑ‚Ñ‹
  achievements?: string[];     // Ğ”Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ
}

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹
const legendarySwordRequirements: EquipmentRequirements = {
  cultivationLevel: { min: 5 },
  stats: {
    strength: 20,
    conductivity: 1.5,
  },
  knownTechniques: ['sword_intent'],
  intactBodyParts: ['right_arm', 'right_hand'],
};

const dragonArmorRequirements: EquipmentRequirements = {
  cultivationLevel: { min: 7 },
  species: ['human', 'elf', 'giant'],
  stats: {
    vitality: 50,
  },
  quests: ['slay_dragon'],
};
```

### 5.3 Ğ¡ĞµÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ±Ğ¾Ğ½ÑƒÑÑ‹

```typescript
interface EquipmentSet {
  id: string;
  name: string;
  pieces: string[];            // ID Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² Ğ² ÑĞµÑ‚Ğµ
  
  // Ğ‘Ğ¾Ğ½ÑƒÑÑ‹ Ğ·Ğ° ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²
  setBonuses: {
    pieces: number;            // ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²
    bonuses: EquipmentBonus[];
    grantedTechniques?: GrantedTechnique[];
  }[];
}

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: Ğ¡ĞµÑ‚ ĞĞ³Ğ½ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ’Ğ»Ğ°Ğ´Ñ‹ĞºĞ¸
const fireLordSet: EquipmentSet = {
  id: 'fire_lord',
  name: 'Ğ¡ĞµÑ‚ ĞĞ³Ğ½ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ’Ğ»Ğ°Ğ´Ñ‹ĞºĞ¸',
  pieces: [
    'fire_lord_helmet',
    'fire_lord_armor',
    'fire_lord_gauntlets',
    'fire_lord_boots',
    'fire_lord_ring',
  ],
  setBonuses: [
    {
      pieces: 2,
      bonuses: [
        { type: 'resistance_fire', value: 20, isPercent: true },
      ],
    },
    {
      pieces: 3,
      bonuses: [
        { type: 'resistance_fire', value: 40, isPercent: true },
        { type: 'intelligence', value: 5, isPercent: false },
      ],
      grantedTechniques: [{
        techniqueId: 'fire_aura',
        charges: { current: -1, max: -1, recharge: { type: 'none' } }, // ĞŸĞ°ÑÑĞ¸Ğ²Ğ½Ğ°Ñ
        modifiers: { damageMultiplier: 1.0 },
      }],
    },
    {
      pieces: 5,
      bonuses: [
        { type: 'resistance_fire', value: 80, isPercent: true },
        { type: 'intelligence', value: 15, isPercent: false },
        { type: 'critChance', value: 15, isPercent: true },
      ],
      grantedTechniques: [{
        techniqueId: 'inferno_domain',
        charges: { current: 3, max: 3, recharge: { type: 'qi', amount: 100 } },
        modifiers: { damageMultiplier: 1.5 },
      }],
    },
  ],
};

// Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ ÑĞµÑ‚Ğ¾Ğ²Ñ‹Ñ… Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ²
function calculateSetBonuses(
  equippedItems: Equipment[]
): EquipmentBonus[] {
  const setCounts = new Map<string, number>();
  
  // ĞŸĞ¾Ğ´ÑÑ‡Ñ‘Ñ‚ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞµÑ‚Ğ°
  for (const item of equippedItems) {
    if (item.setId) {
      setCounts.set(item.setId, (setCounts.get(item.setId) || 0) + 1);
    }
  }
  
  // Ğ¡Ğ±Ğ¾Ñ€ Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ²
  const bonuses: EquipmentBonus[] = [];
  
  for (const [setId, count] of setCounts) {
    const set = getEquipmentSetById(setId);
    if (!set) continue;
    
    for (const setBonus of set.setBonuses) {
      if (count >= setBonus.pieces) {
        bonuses.push(...setBonus.bonuses);
      }
    }
  }
  
  return bonuses;
}
```

### 5.4 Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ (Enhancement)

```typescript
interface EnhancementSystem {
  currentLevel: number;        // Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ
  maxLevel: number;            // ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ñ€ĞµĞ´ĞºĞ¾ÑÑ‚Ğ¸)
  
  // Ğ‘Ğ¾Ğ½ÑƒÑÑ‹ Ğ·Ğ° ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ
  levelBonuses: {
    level: number;
    bonuses: EquipmentBonus[];
  }[];
  
  // Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ
  upgradeCost: {
    spiritStones: number;
    materials?: { id: string; amount: number }[];
  };
  
  // Ğ¨Ğ°Ğ½Ñ ÑƒÑĞ¿ĞµÑ…Ğ°
  successChance: number;       // % ÑƒÑĞ¿ĞµÑ…Ğ°
  failurePenalty?: 'none' | 'downgrade' | 'destroy';
}

// Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ
function calculateUpgradeCost(
  equipment: Equipment,
  targetLevel: number
): UpgradeCost {
  const rarity = equipment.rarity;
  const baseCost = 10 * Math.pow(2, targetLevel);
  
  const rarityMultiplier: Record<EquipmentRarity, number> = {
    common: 1.0,
    uncommon: 1.5,
    rare: 2.5,
    legendary: 5.0,
    divine: 10.0,
  };
  
  return {
    spiritStones: Math.floor(baseCost * rarityMultiplier[rarity]),
    materials: getRequiredMaterials(equipment, targetLevel),
  };
}

// Ğ¤Ğ¾Ñ€Ğ¼ÑƒĞ»Ğ° ÑˆĞ°Ğ½ÑĞ° ÑƒÑĞ¿ĞµÑ…Ğ°
function calculateSuccessChance(
  equipment: Equipment,
  targetLevel: number
): number {
  const rarity = equipment.rarity;
  const baseChance = 100 - (targetLevel * 10);
  
  const rarityBonus: Record<EquipmentRarity, number> = {
    common: 0,
    uncommon: 5,
    rare: 10,
    legendary: 15,
    divine: 20,
  };
  
  return Math.max(5, Math.min(100, baseChance + rarityBonus[rarity]));
}

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğ¹
const enhancementLevels = [
  { level: 1, bonuses: [{ type: 'damage', value: 5, isPercent: true }] },
  { level: 2, bonuses: [{ type: 'damage', value: 10, isPercent: true }] },
  { level: 3, bonuses: [{ type: 'damage', value: 15, isPercent: true }, { type: 'critChance', value: 2, isPercent: true }] },
  { level: 4, bonuses: [{ type: 'damage', value: 20, isPercent: true }] },
  // ... Ğ´Ğ¾ maxLevel
];
```

### 5.5 Ğ˜Ğ·Ğ½Ğ¾Ñ Ğ¸ Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚

```typescript
interface DegradationSystem {
  // ĞŸÑ€Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸
  useDegradation: {
    combatHit: number;         // % Ğ·Ğ° ÑƒĞ´Ğ°Ñ€ Ğ² Ğ±Ğ¾Ñ
    combatBlock: number;       // % Ğ·Ğ° Ğ±Ğ»Ğ¾Ğº
    spellcast: number;         // % Ğ·Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸
  };
  
  // ĞŸĞ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
  timeDegradation: {
    perDay: number;            // % Ğ² Ğ´ĞµĞ½ÑŒ
    conditions?: ('rain' | 'combat' | 'extreme_heat')[];
    conditionMultiplier: number;
  };
  
  // Ğ ĞµĞ¼Ğ¾Ğ½Ñ‚
  repair: {
    costPerPoint: number;      // Ğ”ÑƒÑ…Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼Ğ½Ğ¸ Ğ·Ğ° 1% Ğ¿Ñ€Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸
    npcRepair?: string;        // ID NPC Ğ´Ğ»Ñ Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚Ğ°
    selfRepair?: {
      skill: string;
      materials: { id: string; amount: number }[];
    };
  };
}

// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¸Ğ·Ğ½Ğ¾ÑĞ° Ğ² Ğ±Ğ¾Ñ
function applyCombatDegradation(
  equipment: Equipment,
  action: 'hit' | 'block' | 'cast'
): void {
  const degradation = equipment.degradationSystem;
  if (!degradation) return;
  
  let amount = 0;
  switch (action) {
    case 'hit':
      amount = degradation.useDegradation.combatHit;
      break;
    case 'block':
      amount = degradation.useDegradation.combatBlock;
      break;
    case 'cast':
      amount = degradation.useDegradation.spellcast;
      break;
  }
  
  equipment.durability.current = Math.max(
    0,
    equipment.durability.current - amount
  );
  
  // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
  equipment.durability.condition = getConditionFromPercent(
    equipment.durability.current / equipment.durability.max * 100
  );
}
```

---

## 6ï¸âƒ£ ĞŸĞĞ›ĞĞĞ¯ Ğ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ Ğ­ĞšĞ˜ĞŸĞ˜Ğ ĞĞ’ĞšĞ˜

### 6.1 Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ

```typescript
interface Equipment {
  // === Ğ˜Ğ”Ğ•ĞĞ¢Ğ˜Ğ¤Ğ˜ĞšĞĞ¦Ğ˜Ğ¯ ===
  id: string;
  name: string;
  nameEn?: string;
  description: string;
  icon?: string;
  
  // === 0. Ğ¢Ğ˜ĞŸ ===
  equipmentType: EquipmentType;
  subType: string;
  
  // === 1. Ğ Ğ•Ğ”ĞšĞĞ¡Ğ¢Ğ¬ ===
  rarity: EquipmentRarity;
  category: PresetCategory;
  
  // === 2. Ğ¤Ğ˜Ğ—Ğ˜ĞšĞ ===
  physical: PhysicalProperties;
  
  // === 3. Ğ‘ĞĞĞ£Ğ¡Ğ« ===
  bonuses: EquipmentBonuses;
  
  // === 4. Ğ¢Ğ•Ğ¥ĞĞ˜ĞšĞ˜ ===
  grantedTechniques?: GrantedTechnique[];
  
  // === 5. Ğ”ĞĞŸĞĞ›ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞĞ• ===
  slot: EquipmentSlot;
  requirements?: EquipmentRequirements;
  setId?: string;
  enhancement?: EnhancementSystem;
  degradation?: DegradationSystem;
  
  // === Ğ¡Ğ¢ĞĞ˜ĞœĞĞ¡Ğ¢Ğ¬ ===
  sellPrice: number;
  buyPrice?: number;
  
  // === Ğ˜Ğ¡Ğ¢ĞĞ§ĞĞ˜ĞšĞ˜ ===
  sources: PresetSource[];
  dropSources?: string[];      // ĞÑ‚ ĞºĞ¾Ğ³Ğ¾ Ğ²Ñ‹Ğ¿Ğ°Ğ´Ğ°ĞµÑ‚
  
  // === Ğ£ĞĞ˜ĞšĞĞ›Ğ¬ĞĞĞ¡Ğ¢Ğ¬ ===
  isUnique?: boolean;          // ĞœĞ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ğ´Ğ¸Ğ½ ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€
  isBound?: boolean;           // ĞŸÑ€Ğ¸Ğ²ÑĞ·Ğ°Ğ½ Ğº Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ñƒ
  boundTo?: string;            // ID Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°
}
```

### 6.2 ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸

#### ĞĞ±Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ Ğ¶ĞµĞ»ĞµĞ·Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‡

```typescript
const ironSword: Equipment = {
  id: 'iron_sword',
  name: 'Ğ–ĞµĞ»ĞµĞ·Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‡',
  nameEn: 'Iron Sword',
  description: 'ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ğ¶ĞµĞ»ĞµĞ·Ğ½Ñ‹Ğ¹ Ğ¼ĞµÑ‡. ĞĞ°Ğ´Ñ‘Ğ¶Ğ½Ñ‹Ğ¹, Ğ½Ğ¾ Ğ±ĞµĞ· Ğ¾ÑĞ¾Ğ±Ñ‹Ñ… ÑĞ²Ğ¾Ğ¹ÑÑ‚Ğ².',
  icon: 'ğŸ—¡ï¸',
  
  equipmentType: 'weapon',
  subType: 'weapon_sword',
  
  rarity: 'common',
  category: 'basic',
  
  physical: {
    weight: 2.5,
    weightClass: 'light',
    size: 'medium',
    volume: 1,
    durability: {
      current: 100,
      max: 100,
      degradationRate: 0.1,
      repairCost: 5,
      condition: 'pristine',
    },
    material: 'iron',
    materialQuality: 3,
  },
  
  bonuses: {
    stats: [
      { type: 'damage', value: 15, isPercent: false },
    ],
  },
  
  slot: 'weapon_main',
  
  sellPrice: 10,
  buyPrice: 25,
  sources: ['merchant', 'drop'],
  dropSources: ['bandit', 'guard'],
};
```

#### Ğ ĞµĞ´ĞºĞ¸Ğ¹ ĞœĞµÑ‡ Ğ’ĞµÑ‚Ñ€Ğ°

```typescript
const windBlade: Equipment = {
  id: 'wind_blade',
  name: 'ĞœĞµÑ‡ Ğ’ĞµÑ‚Ñ€Ğ°',
  nameEn: 'Wind Blade',
  description: 'Ğ›ĞµĞ³ĞºĞ¸Ğ¹ ĞºĞ»Ğ¸Ğ½Ğ¾Ğº, Ğ·Ğ°Ñ‡Ğ°Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ´ÑƒÑ…Ğ¾Ğ¼ Ğ²Ğ¾Ğ·Ğ´ÑƒÑ…Ğ°. Ğ£ÑĞºĞ¾Ñ€ÑĞµÑ‚ Ğ°Ñ‚Ğ°ĞºĞ¸ Ğ²Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ†Ğ°.',
  icon: 'ğŸ—¡ï¸',
  
  equipmentType: 'weapon',
  subType: 'weapon_sword',
  
  rarity: 'rare',
  category: 'master',
  
  physical: {
    weight: 1.5,
    weightClass: 'light',
    size: 'medium',
    volume: 0.8,
    durability: {
      current: 150,
      max: 150,
      degradationRate: 0.05,
      repairCost: 30,
      condition: 'pristine',
    },
    material: 'spirit_iron',
    materialQuality: 7,
  },
  
  bonuses: {
    stats: [
      { type: 'damage', value: 25, isPercent: false },
      { type: 'agility', value: 5, isPercent: false },
      { type: 'attackSpeed', value: 15, isPercent: true },
    ],
    techniqueBonuses: [
      {
        element: 'air',
        bonus: {
          damageMultiplier: 1.3,
          castSpeedMultiplier: 1.2,
        },
      },
    ],
  },
  
  grantedTechniques: [{
    techniqueId: 'wind_slash',
    charges: {
      current: 5,
      max: 5,
      recharge: { type: 'qi', amount: 30 },
    },
    requirements: {
      cultivationLevel: 2,
      qiCost: 15,
    },
    modifiers: {
      damageMultiplier: 1.0,
    },
  }],
  
  slot: 'weapon_main',
  requirements: {
    cultivationLevel: { min: 2 },
    stats: { agility: 12 },
  },
  
  enhancement: {
    currentLevel: 0,
    maxLevel: 7,
    levelBonuses: enhancementLevels,
    upgradeCost: { spiritStones: 100 },
    successChance: 100,
    failurePenalty: 'downgrade',
  },
  
  sellPrice: 200,
  buyPrice: 500,
  sources: ['drop', 'craft'],
  dropSources: ['wind_elemental', 'swordsman_master'],
};
```

#### Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°Ñ€Ğ½Ğ°Ñ Ğ‘Ñ€Ğ¾Ğ½Ñ Ğ”Ñ€Ğ°ĞºĞ¾Ğ½Ğ°

```typescript
const dragonArmor: Equipment = {
  id: 'dragon_scale_armor',
  name: 'Ğ‘Ñ€Ğ¾Ğ½Ñ Ğ¸Ğ· Ñ‡ĞµÑˆÑƒĞ¸ Ğ´Ñ€Ğ°ĞºĞ¾Ğ½Ğ°',
  nameEn: 'Dragon Scale Armor',
  description: 'Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°Ñ€Ğ½Ğ°Ñ Ğ±Ñ€Ğ¾Ğ½Ñ, Ğ²Ñ‹ĞºĞ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¸Ğ· Ñ‡ĞµÑˆÑƒĞ¸ Ğ´Ñ€ĞµĞ²Ğ½ĞµĞ³Ğ¾ Ğ´Ñ€Ğ°ĞºĞ¾Ğ½Ğ°. Ğ”Ğ°Ñ‘Ñ‚ Ğ½ĞµĞ²ĞµÑ€Ğ¾ÑÑ‚Ğ½ÑƒÑ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñƒ Ğ¸ ÑĞ¸Ğ»Ñƒ.',
  icon: 'ğŸ›¡ï¸',
  
  equipmentType: 'wearable',
  subType: 'armor_torso',
  
  rarity: 'legendary',
  category: 'legendary',
  
  physical: {
    weight: 15,
    weightClass: 'heavy',
    size: 'large',
    volume: 20,
    durability: {
      current: 500,
      max: 500,
      degradationRate: 0.02,
      repairCost: 100,
      condition: 'pristine',
    },
    material: 'dragon_bone',
    materialQuality: 10,
  },
  
  bonuses: {
    stats: [
      { type: 'armor', value: 100, isPercent: false },
      { type: 'healthMax', value: 200, isPercent: false },
      { type: 'strength', value: 10, isPercent: false },
      { type: 'vitality', value: 15, isPercent: false },
      { type: 'resistance_fire', value: 50, isPercent: true },
    ],
    conditional: {
      inCombat: [
        { type: 'armor', value: 20, isPercent: true },
        { type: 'intimidation', value: 30, isPercent: true },
      ],
      lowHealth: [
        { type: 'armor', value: 50, isPercent: true },
      ],
    },
  },
  
  grantedTechniques: [
    {
      techniqueId: 'dragon_breath',
      charges: {
        current: 3,
        max: 3,
        recharge: { type: 'spirit_stone', amount: 50 },
      },
      requirements: {
        cultivationLevel: 5,
        qiCost: 100,
      },
      modifiers: {
        damageMultiplier: 1.5,
      },
    },
    {
      techniqueId: 'dragon_fury',
      charges: {
        current: 1,
        max: 1,
        recharge: { type: 'combat', perKill: 0.1 }, // 10 ÑƒĞ±Ğ¸Ğ¹ÑÑ‚Ğ²
      },
      autoActivate: {
        trigger: 'onLowHealth',
        chance: 50,
      },
    },
  ],
  
  slot: 'torso',
  requirements: {
    cultivationLevel: { min: 5 },
    stats: { strength: 25, vitality: 30 },
    quests: ['slay_dragon'],
  },
  
  setId: 'dragon_lord',
  
  enhancement: {
    currentLevel: 0,
    maxLevel: 9,
    levelBonuses: legendaryEnhancementLevels,
    upgradeCost: { spiritStones: 500 },
    successChance: 80,
    failurePenalty: 'downgrade',
  },
  
  degradation: {
    useDegradation: {
      combatHit: 0.02,
      combatBlock: 0.05,
      spellcast: 0,
    },
    timeDegradation: {
      perDay: 0,
    },
    repair: {
      costPerPoint: 5,
      npcRepair: 'master_blacksmith',
    },
  },
  
  sellPrice: 5000,
  sources: ['drop', 'craft'],
  dropSources: ['ancient_dragon'],
  isUnique: true,
};
```

---

## 7ï¸âƒ£ Ğ˜ĞĞ¢Ğ•Ğ“Ğ ĞĞ¦Ğ˜Ğ¯ Ğ¡ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞĞ™

### 7.1 Prisma Schema

```prisma
model Equipment {
  id          String   @id @default(cuid())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  // === Ğ˜Ğ”Ğ•ĞĞ¢Ğ˜Ğ¤Ğ˜ĞšĞĞ¦Ğ˜Ğ¯ ===
  name        String
  nameEn      String?
  description String
  icon        String?
  
  // === Ğ¢Ğ˜ĞŸ ===
  equipmentType  String   // wearable, weapon, consumable, artifact, tool, implant
  subType        String
  
  // === Ğ Ğ•Ğ”ĞšĞĞ¡Ğ¢Ğ¬ ===
  rarity      String   // common, uncommon, rare, legendary, divine
  category    String   // basic, advanced, master, legendary
  
  // === Ğ¤Ğ˜Ğ—Ğ˜ĞšĞ ===
  weight          Float
  weightClass     String
  size            String
  durabilityCurrent Int
  durabilityMax   Int
  material        String
  materialQuality Int
  
  // === Ğ‘ĞĞĞ£Ğ¡Ğ« (JSON) ===
  bonuses     Json     // EquipmentBonuses
  
  // === Ğ¢Ğ•Ğ¥ĞĞ˜ĞšĞ˜ (JSON) ===
  grantedTechniques Json? // GrantedTechnique[]
  
  // === Ğ¡Ğ›ĞĞ¢ Ğ˜ Ğ¢Ğ Ğ•Ğ‘ĞĞ’ĞĞĞ˜Ğ¯ ===
  slot          String
  requirements  Json?    // EquipmentRequirements
  setId         String?
  
  // === Ğ£Ğ›Ğ£Ğ§Ğ¨Ğ•ĞĞ˜Ğ• ===
  enhancementLevel Int @default(0)
  
  // === Ğ¡Ğ¢ĞĞ˜ĞœĞĞ¡Ğ¢Ğ¬ ===
  sellPrice    Int
  buyPrice     Int?
  
  // === ĞŸĞ Ğ˜Ğ’Ğ¯Ğ—ĞšĞ ===
  isBound      Boolean @default(false)
  boundTo      String?
  
  // === Ğ¡ĞĞ¡Ğ¢ĞĞ¯ĞĞ˜Ğ• ===
  charges      Json?    // Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ·Ğ°Ñ€ÑĞ´Ñ‹ Ñ‚ĞµÑ…Ğ½Ğ¸Ğº
  
  // === Ğ¡Ğ’Ğ¯Ğ—Ğ˜ ===
  characterId  String?
  character    Character? @relation(fields: [characterId], references: [id])
  
  @@map("equipment")
}

model EquipmentSet {
  id          String   @id
  name        String
  pieces      Json     // string[]
  setBonuses  Json     // SetBonus[]
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  
  @@map("equipment_sets")
}

model Character {
  // ... ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ğ¿Ğ¾Ğ»Ñ
  
  // Ğ­ĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°
  equipment   Equipment[]
  
  // ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¿Ğ¾ ÑĞ»Ğ¾Ñ‚Ğ°Ğ¼
  equippedItems Json?   // Record<EquipmentSlot, EquipmentId>
}
```

### 7.2 API Endpoints

```typescript
// GET /api/equipment
// ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑÑ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºÑƒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°

// POST /api/equipment/equip
// Ğ­ĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚
interface EquipRequest {
  characterId: string;
  equipmentId: string;
  slot?: EquipmentSlot;  // ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, ĞµÑĞ»Ğ¸ ÑĞ»Ğ¾Ñ‚ Ğ¾Ğ´Ğ¸Ğ½ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶ĞµĞ½
}

// POST /api/equipment/unequip
// Ğ¡Ğ½ÑÑ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚
interface UnequipRequest {
  characterId: string;
  slot: EquipmentSlot;
}

// POST /api/equipment/use-technique
// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºÑƒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°
interface UseTechniqueRequest {
  characterId: string;
  equipmentId: string;
  techniqueIndex: number;
  targetId?: string;
}

// POST /api/equipment/recharge
// ĞŸĞµÑ€ĞµĞ·Ğ°Ñ€ÑĞ´Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºÑƒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°
interface RechargeRequest {
  characterId: string;
  equipmentId: string;
  techniqueIndex: number;
  method: 'qi' | 'spirit_stone';
}

// POST /api/equipment/enhance
// Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚
interface EnhanceRequest {
  characterId: string;
  equipmentId: string;
}

// POST /api/equipment/repair
// ĞŸĞ¾Ñ‡Ğ¸Ğ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚
interface RepairRequest {
  characterId: string;
  equipmentId: string;
  amount?: number;  // Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ
}
```

### 7.3 Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¸Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ñ… Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸Ğº

```typescript
function calculateFinalStats(
  character: Character,
  equippedItems: Equipment[]
): CharacterStats {
  // 1. Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ¸
  let stats = { ...character.baseStats };
  
  // 2. Ğ‘Ğ¾Ğ½ÑƒÑÑ‹ Ğ¾Ñ‚ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸
  for (const item of equippedItems) {
    const conditionMult = getConditionMultiplier(item.physical.durability.condition);
    
    for (const bonus of item.bonuses.stats) {
      const value = bonus.value * conditionMult;
      
      if (bonus.isPercent) {
        stats[bonus.type] *= (1 + value / 100);
      } else {
        stats[bonus.type] += value;
      }
    }
    
    // Ğ‘Ğ¾Ğ½ÑƒÑÑ‹ Ğ·Ğ° ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ
    if (item.enhancement && item.enhancement.currentLevel > 0) {
      for (const levelBonus of item.enhancement.levelBonuses) {
        if (levelBonus.level <= item.enhancement.currentLevel) {
          for (const bonus of levelBonus.bonuses) {
            if (bonus.isPercent) {
              stats[bonus.type] *= (1 + bonus.value / 100);
            } else {
              stats[bonus.type] += bonus.value;
            }
          }
        }
      }
    }
  }
  
  // 3. Ğ¡ĞµÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ±Ğ¾Ğ½ÑƒÑÑ‹
  const setBonuses = calculateSetBonuses(equippedItems);
  for (const bonus of setBonuses) {
    if (bonus.isPercent) {
      stats[bonus.type] *= (1 + bonus.value / 100);
    } else {
      stats[bonus.type] += bonus.value;
    }
  }
  
  // 4. Ğ¨Ñ‚Ñ€Ğ°Ñ„Ñ‹ Ğ·Ğ° Ğ²ĞµÑ
  const totalWeight = equippedItems.reduce((sum, item) => sum + item.physical.weight, 0);
  const weightEffects = calculateWeightEffects(totalWeight, stats.strength);
  
  stats.moveSpeed *= (1 - weightEffects.speedPenalty / 100);
  stats.dodgeChance -= weightEffects.dodgePenalty;
  
  return stats;
}
```

---

## 8ï¸âƒ£ ĞŸĞ›ĞĞ Ğ Ğ•ĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ˜

### Ğ¤Ğ°Ğ·Ğ° 1: Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° (ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹)

1. **Ğ¢Ğ¸Ğ¿Ñ‹ Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹** â€” `src/types/equipment.ts`
2. **ĞŸÑ€ĞµÑĞµÑ‚Ñ‹ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸** â€” `src/data/presets/equipment-presets.ts`
3. **Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ°Ğ»Ñ‹** â€” `src/data/materials.ts`

### Ğ¤Ğ°Ğ·Ğ° 2: Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ‘Ğ” (ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹)

1. **Prisma Schema** â€” Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ Equipment, EquipmentSet
2. **API** â€” Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
3. **Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€ÑŒ UI** â€” Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸

### Ğ¤Ğ°Ğ·Ğ° 3: Ğ‘Ğ¾ĞµĞ²Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° (ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹)

1. **Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸** â€” Ğ¿Ñ€Ğ¸Ğ²ÑĞ·ĞºĞ° Ğº Ñ‡Ğ°ÑÑ‚ÑĞ¼ Ñ‚ĞµĞ»Ğ°
2. **Ğ‘Ğ¾Ğ½ÑƒÑÑ‹ Ğ² Ğ±Ğ¾Ñ** â€” Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¾Ğ²
3. **Ğ”Ğ°Ñ€ÑƒĞµĞ¼Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸** â€” Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ±Ğ¾ĞµĞ²Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹

### Ğ¤Ğ°Ğ·Ğ° 4: ĞŸÑ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ñ‹Ğµ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸ĞºĞ¸ (ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: ĞĞ¸Ğ·ĞºĞ¸Ğ¹)

1. **Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ** â€” ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ·Ğ°Ñ‚Ğ¾Ñ‡ĞºĞ¸
2. **Ğ ĞµĞ¼Ğ¾Ğ½Ñ‚** â€” Ğ¸Ğ·Ğ½Ğ¾Ñ Ğ¸ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
3. **Ğ¡ĞµÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ±Ğ¾Ğ½ÑƒÑÑ‹** â€” ĞºĞ¾Ğ¼Ğ¿Ğ»ĞµĞºÑ‚Ñ‹

---

## ğŸ”— Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

- [body.md](./body.md) â€” ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ Ñ‚ĞµĞ»Ğ°
- [COMBAT_TECHNIQUES_SYSTEM.md](./COMBAT_TECHNIQUES_SYSTEM.md) â€” Ğ‘Ğ¾ĞµĞ²Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°
- [start_lore.md](./start_lore.md) â€” Ğ›Ğ¾Ñ€ Ğ¼Ğ¸Ñ€Ğ°

---

*Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½: 2026-02-28*  
*Ğ’ĞµÑ€ÑĞ¸Ñ: 1.0*
