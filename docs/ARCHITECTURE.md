# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚: Cultivation World Simulator

## ğŸ“Š ĞĞ±Ğ·Ğ¾Ñ€ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ:** Cultivation World Simulator  
**Ğ–Ğ°Ğ½Ñ€:** Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ğ°Ñ RPG-ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ñ Ğ˜Ğ˜-Ğ³ĞµĞ¹Ğ¼-Ğ¼Ğ°ÑÑ‚ĞµÑ€Ğ¾Ğ¼  
**ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ°:** Ğ’ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ (Next.js)  
**ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°:** Ğ“Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ğ°Ñ (Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ C)  
**Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ:** Ğ›ÑĞ±Ğ¸Ñ‚ĞµĞ»Ğ¸ Ğ¶Ğ°Ğ½Ñ€Ğ° ÑÑĞ½ÑÑ, Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ñ… RPG, Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¹

---

## ğŸ—ï¸ Ğ“Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ C)

### Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              BROWSER CLIENT                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        Next.js Frontend                                â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Chat UI    â”‚  â”‚  Status     â”‚  â”‚  World Info â”‚  â”‚  Settings   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  (Text)     â”‚  â”‚  Panel      â”‚  â”‚  Panel      â”‚  â”‚  Modal      â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                              â”‚
                    â”‚ HTTP/REST                    â”‚ WebSocket
                    â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      NEXT.JS API (Port 3000)     â”‚  â”‚   GAME ENGINE SERVICE (Port 3003)    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  /api/chat                 â”‚  â”‚  â”‚  â”‚  Real-time World Simulation    â”‚  â”‚
â”‚  â”‚  /api/game/start           â”‚â—„â”€â”¼â”€â”€â”¼â”€â”€â”‚  - Time progression            â”‚  â”‚
â”‚  â”‚  /api/game/state           â”‚  â”‚  â”‚  â”‚  - Qi calculations             â”‚  â”‚
â”‚  â”‚  /api/game/save            â”‚  â”‚  â”‚  â”‚  - Event processing            â”‚  â”‚
â”‚  â”‚  /api/llm/*                â”‚  â”‚  â”‚  â”‚  - NPC simulation              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚  â”‚                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  LLM PROVIDER LAYER        â”‚  â”‚  â”‚  â”‚  State Broadcasting            â”‚  â”‚
â”‚  â”‚  - Local LLM (Ollama)      â”‚  â”‚  â”‚  â”‚  - Character updates           â”‚  â”‚
â”‚  â”‚  - External API (OpenAI)   â”‚  â”‚  â”‚  â”‚  - World events                â”‚  â”‚
â”‚  â”‚  - z-ai-web-dev-sdk        â”‚  â”‚  â”‚  â”‚  - NPC actions                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DATABASE LAYER (Prisma + SQLite)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  Sessions   â”‚  â”‚  Characters â”‚  â”‚  Messages   â”‚  â”‚  World State â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     IMAGE GENERATION STUB (Future)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Placeholder for background image generation                         â”‚   â”‚
â”‚  â”‚  - Will use local Stable Diffusion or similar                       â”‚   â”‚
â”‚  â”‚  - Currently returns placeholder images                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞŸĞ¾Ñ€Ñ‚Ñ‹ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | ĞŸĞ¾Ñ€Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|--------|------|----------|
| Next.js App | 3000 | ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğµ Ğ²ĞµĞ±-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ + API |
| Game Engine | 3003 | WebSocket ÑĞµÑ€Ğ²Ğ¸Ñ ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ğ¸ Ğ¼Ğ¸Ñ€Ğ° |
| Local LLM | 11434 | Ollama (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾) |

---

## ğŸ® Ğ¡Ñ‚Ğ°Ñ€Ñ‚Ğ¾Ğ²Ñ‹Ğµ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1: Ğ¡ĞµĞºÑ‚Ğ° "ĞŸĞ°Ğ´Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ›Ğ¾Ñ‚Ğ¾Ñ"
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¡Ğ¢ĞĞ Ğ¢ Ğ’ Ğ¡Ğ•ĞšĞ¢Ğ•                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Ğ“Ğ“ Ğ¿Ñ€Ğ¾ÑÑ‹Ğ¿Ğ°ĞµÑ‚ÑÑ Ğ² Ñ‚ĞµĞ»Ğµ 16-Ğ»ĞµÑ‚Ğ½ĞµĞ³Ğ¾ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ°           â”‚
â”‚  â€¢ Ğ§Ğ°ÑÑ‚Ğ¸Ñ‡Ğ½Ğ°Ñ Ğ°Ğ¼Ğ½ĞµĞ·Ğ¸Ñ (Ğ½ĞµÑ‚ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ Ğ¾ ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ)             â”‚
â”‚  â€¢ Ğ’Ñ‡ĞµÑ€Ğ° Ğ¿Ñ€Ğ¾ÑˆĞ»Ğ¾ Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ğµ ÑĞ´Ñ€Ğ°                        â”‚
â”‚  â€¢ 1000 ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ğ², Ğ¾Ñ‚Ğ±ĞµÑ€ÑƒÑ‚ 200 Ğ»ÑƒÑ‡ÑˆĞ¸Ñ…                  â”‚
â”‚  â€¢ 4 Ğ´Ğ½Ñ Ğ¸ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğ¹: Ğ²Ñ‹Ğ½Ğ¾ÑĞ»Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ, ÑĞ¸Ğ»Ğ°, Ğ»Ğ¾Ğ²ĞºĞ¾ÑÑ‚ÑŒ,       â”‚
â”‚    Ğ¸Ğ½Ñ‚ĞµĞ»Ğ»ĞµĞºÑ‚                                            â”‚
â”‚  â€¢ Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ: 99,000 ĞºĞ¼ Ğ¾Ñ‚ Ñ†ĞµĞ½Ñ‚Ñ€Ğ° Ğ¼Ğ¸Ñ€Ğ°               â”‚
â”‚  â€¢ Qi Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ: 20 ĞµĞ´/Ğ¼Â³ (Ğ·Ğ¾Ğ½Ğ° ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ğ²)             â”‚
â”‚  â€¢ Ğ¡ĞµĞºÑ‚Ğ°: "ĞŸĞ°Ğ´Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ›Ğ¾Ñ‚Ğ¾Ñ" (ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ 6.0-6.5)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: Ğ¡Ğ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ°Ñ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ğ¡Ğ¢ĞĞ Ğ¢ Ğ’ Ğ¡Ğ›Ğ£Ğ§ĞĞ™ĞĞĞ™ ĞĞ‘Ğ›ĞĞ¡Ğ¢Ğ˜                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Ğ“Ğ“ Ğ¿Ñ€Ğ¾ÑÑ‹Ğ¿Ğ°ĞµÑ‚ÑÑ Ğ² Ğ¾Ñ‚Ğ´Ğ°Ğ»Ñ‘Ğ½Ğ½Ğ¾Ğ¹ Ğ¼ĞµÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸                â”‚
â”‚  â€¢ Ğ—Ğ½Ğ°ĞµÑ‚ Ğ¾ ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹                        â”‚
â”‚  â€¢ ĞœĞ¾Ğ¶ĞµÑ‚ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ñƒ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹                     â”‚
â”‚  â€¢ ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹                         â”‚
â”‚  â€¢ Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ: ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ¾Ğµ (10,000-90,000 ĞºĞ¼ Ğ¾Ñ‚ Ñ†ĞµĞ½Ñ‚Ñ€Ğ°) â”‚
â”‚  â€¢ Qi Ğ¿Ğ»Ğ¾Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ: Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ·Ğ¾Ğ½Ñ‹                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 3: ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ĞšĞĞ¡Ğ¢ĞĞœĞĞ«Ğ™ Ğ¡Ğ¢ĞĞ Ğ¢                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‚ÑŒ:                             â”‚
â”‚  â€¢ ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½ÑƒÑ Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ñ                                    â”‚
â”‚  â€¢ Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ Ğ“Ğ“                                           â”‚
â”‚  â€¢ ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ¸                             â”‚
â”‚  â€¢ ĞĞ±ÑŠÑ‘Ğ¼ ÑĞ´Ñ€Ğ°                                           â”‚
â”‚  â€¢ Ğ—Ğ½Ğ°Ğ½Ğ¸Ğµ Ğ¾ ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ (Ğ´Ğ°/Ğ½ĞµÑ‚)                            â”‚
â”‚  â€¢ ĞĞ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ€ĞµÑÑƒÑ€ÑÑ‹                                    â”‚
â”‚  â€¢ ĞŸÑ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğº ÑĞµĞºÑ‚Ğµ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤– Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° LLM (Ğ“ĞµĞ¹Ğ¼-Ğ¼Ğ°ÑÑ‚ĞµÑ€)

### ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ‹

```typescript
// lib/llm/types.ts

export type LLMProvider = 'local' | 'api' | 'z-ai';

export interface LLMConfig {
  provider: LLMProvider;
  
  // Local LLM (Ollama)
  localEndpoint?: string;  // default: http://localhost:11434
  localModel?: string;     // default: llama3.1:8b
  
  // External API
  apiEndpoint?: string;
  apiKey?: string;
  apiModel?: string;
  
  // Common
  temperature?: number;
  maxTokens?: number;
}
```

### Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ¾Ğ²

```typescript
// lib/llm/interface.ts

export interface LLMProviderInterface {
  generate(systemPrompt: string, messages: Message[]): Promise<string>;
  stream?(systemPrompt: string, messages: Message[]): AsyncGenerator<string>;
  isAvailable(): Promise<boolean>;
}
```

### Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ĞŸĞ Ğ˜ĞĞ Ğ˜Ğ¢Ğ•Ğ¢ LLM ĞŸĞ ĞĞ’ĞĞ™Ğ”Ğ•Ğ ĞĞ’                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° z-ai-web-dev-sdk (ĞµÑĞ»Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½)           â”‚
â”‚  2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ollama                          â”‚
â”‚  3. Fallback Ğ½Ğ° Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ API                             â”‚
â”‚  4. ĞÑˆĞ¸Ğ±ĞºĞ° ĞµÑĞ»Ğ¸ Ğ½Ğ¸ Ğ¾Ğ´Ğ¸Ğ½ Ğ½Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ UI ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¹)

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ¸ Cultivation Simulator          [Settings] [Save] [Load]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚                        MAIN CHAT AREA                             â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  [Narrator] Ğ¡Ğ¾Ğ»Ğ½Ñ†Ğµ Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ÑÑ Ğ½Ğ°Ğ´ Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ¾Ğ¼...         â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  [System] ĞŸÑ€Ğ¾ÑÑ‹Ğ¿Ğ°Ğ¹Ñ‚ĞµÑÑŒ, ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚. ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ Ğ¸ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ğ¹...        â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  [Player] ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ³Ğ»Ğ°Ğ·Ğ° Ğ¸ Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒÑÑ                            â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  [Narrator] Ğ¢Ñ‹ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑˆÑŒ Ğ³Ğ»Ğ°Ğ·Ğ°. ĞŸĞµÑ€ĞµĞ´ Ñ‚Ğ¾Ğ±Ğ¾Ğ¹...                   â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  STATUS BAR: Qi: 850/1000 | Lv.1 | Health: 100% | Day 1           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  > [Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ...________________________] [Send]            â”‚  â”‚
â”‚  â”‚  Commands: !!action | --query | ---strict | --ĞŸĞœ                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

```
components/
â”œâ”€â”€ game/
â”‚   â”œâ”€â”€ GameContainer.tsx      # Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ¸Ğ³Ñ€Ñ‹
â”‚   â”œâ”€â”€ ChatArea.tsx           # ĞĞ±Ğ»Ğ°ÑÑ‚ÑŒ Ñ‡Ğ°Ñ‚Ğ° Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑĞ¼Ğ¸
â”‚   â”œâ”€â”€ MessageBubble.tsx      # ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
â”‚   â”œâ”€â”€ InputBar.tsx           # ĞŸĞ¾Ğ»Ğµ Ğ²Ğ²Ğ¾Ğ´Ğ° + ĞºĞ½Ğ¾Ğ¿ĞºĞ¸
â”‚   â”œâ”€â”€ StatusBar.tsx          # Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ-Ğ±Ğ°Ñ€ (Qi, ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ, Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ)
â”‚   â””â”€â”€ CommandHint.tsx        # ĞŸĞ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸ Ğ¿Ğ¾ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°Ğ¼
â”œâ”€â”€ panels/
â”‚   â”œâ”€â”€ CharacterPanel.tsx     # ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ° (Ñ€Ğ°ÑĞºÑ€Ñ‹Ğ²Ğ°ÑÑ‰Ğ°ÑÑÑ)
â”‚   â”œâ”€â”€ WorldInfoPanel.tsx     # Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ¼Ğ¸Ñ€Ğµ (Ñ€Ğ°ÑĞºÑ€Ñ‹Ğ²Ğ°ÑÑ‰Ğ°ÑÑÑ)
â”‚   â””â”€â”€ SettingsModal.tsx      # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
â”œâ”€â”€ start/
â”‚   â”œâ”€â”€ StartScreen.tsx        # Ğ­ĞºÑ€Ğ°Ğ½ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° ÑÑ‚Ğ°Ñ€Ñ‚Ğ°
â”‚   â”œâ”€â”€ VariantCard.tsx        # ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğ° ÑÑ‚Ğ°Ñ€Ñ‚Ğ°
â”‚   â””â”€â”€ CustomStartForm.tsx    # Ğ¤Ğ¾Ñ€Ğ¼Ğ° ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°
â””â”€â”€ ui/                        # shadcn/ui ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
```

---

## ğŸ“¦ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
my-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx                 # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° (Ğ¸Ğ³Ñ€Ğ°)
â”‚   â”‚   â”œâ”€â”€ layout.tsx               # Layout
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ chat/
â”‚   â”‚       â”‚   â””â”€â”€ route.ts         # API Ñ‡Ğ°Ñ‚Ğ°
â”‚   â”‚       â”œâ”€â”€ game/
â”‚   â”‚       â”‚   â”œâ”€â”€ start/route.ts   # ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²ÑƒÑ Ğ¸Ğ³Ñ€Ñƒ
â”‚   â”‚       â”‚   â”œâ”€â”€ state/route.ts   # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
â”‚   â”‚       â”‚   â””â”€â”€ save/route.ts    # Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ/Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ
â”‚   â”‚       â””â”€â”€ llm/
â”‚   â”‚           â””â”€â”€ route.ts         # ĞŸÑ€Ğ¾ĞºÑĞ¸ Ğ´Ğ»Ñ LLM
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ game/                    # Ğ˜Ğ³Ñ€Ğ¾Ğ²Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”œâ”€â”€ panels/                  # ĞŸĞ°Ğ½ĞµĞ»Ğ¸ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ start/                   # Ğ­ĞºÑ€Ğ°Ğ½ ÑÑ‚Ğ°Ñ€Ñ‚Ğ°
â”‚   â”‚   â””â”€â”€ ui/                      # shadcn/ui
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ game/
â”‚   â”‚   â”‚   â”œâ”€â”€ engine.ts            # Ğ¯Ğ´Ñ€Ğ¾ Ğ¸Ğ³Ñ€Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ qi.ts                # Ğ Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ğ¦Ğ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ cultivation.ts       # Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ time.ts              # Ğ’Ñ€ĞµĞ¼Ñ Ğ¼Ğ¸Ñ€Ğ°
â”‚   â”‚   â”‚   â””â”€â”€ commands.ts          # ĞŸĞ°Ñ€ÑĞµÑ€ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´
â”‚   â”‚   â”œâ”€â”€ llm/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts             # Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts             # Ğ¢Ğ¸Ğ¿Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ local.ts             # Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts               # API Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€
â”‚   â”‚   â”‚   â””â”€â”€ z-ai.ts              # z-ai-web-dev-sdk
â”‚   â”‚   â”œâ”€â”€ db.ts                    # Prisma ĞºĞ»Ğ¸ĞµĞ½Ñ‚
â”‚   â”‚   â””â”€â”€ utils.ts                 # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ memory-containers.ts      # ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸
â”‚   â”‚   â”œâ”€â”€ cultivation-levels.ts     # Ğ£Ñ€Ğ¾Ğ²Ğ½Ğ¸ ĞºÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ world-rules.ts            # ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¼Ğ¸Ñ€Ğ°
â”‚   â”‚   â””â”€â”€ prompts/
â”‚   â”‚       â””â”€â”€ game-master.ts        # Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ useGame.ts                # Ğ¥ÑƒĞº Ğ¸Ğ³Ñ€Ñ‹
â”‚       â”œâ”€â”€ useChat.ts                # Ğ¥ÑƒĞº Ñ‡Ğ°Ñ‚Ğ°
â”‚       â””â”€â”€ useWebSocket.ts           # Ğ¥ÑƒĞº WebSocket
â”œâ”€â”€ mini-services/
â”‚   â””â”€â”€ game-engine/
â”‚       â”œâ”€â”€ index.ts                  # WebSocket ÑĞµÑ€Ğ²ĞµÑ€
â”‚       â””â”€â”€ package.json
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma                 # Ğ¡Ñ…ĞµĞ¼Ğ° Ğ‘Ğ”
â”œâ”€â”€ public/
â”‚   â””â”€â”€ images/
â”‚       â””â”€â”€ placeholders/             # Ğ—Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ¸ Ğ´Ğ»Ñ Ñ„Ğ¾Ğ½Ğ¾Ğ²
â””â”€â”€ docs/
    â””â”€â”€ ARCHITECTURE.md               # Ğ­Ñ‚Ğ¾Ñ‚ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚
```

---

## ğŸ”§ API Endpoints

### POST /api/chat
```typescript
// Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ
{
  sessionId: string;
  message: string;      // Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ° Ğ¸Ğ»Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°
}

// ĞÑ‚Ğ²ĞµÑ‚
{
  type: 'narration' | 'system' | 'error';
  content: string;
  stateUpdate?: Partial<GameState>;
}
```

### POST /api/game/start
```typescript
// Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ
{
  variant: 1 | 2 | 3;     // 1=ÑĞµĞºÑ‚Ğ°, 2=ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ñ‹Ğ¹, 3=ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğ¹
  customConfig?: {        // Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğ° 3
    location?: string;
    age?: number;
    coreCapacity?: number;
    knowsAboutSystem?: boolean;
    // ...
  };
}

// ĞÑ‚Ğ²ĞµÑ‚
{
  sessionId: string;
  character: Character;
  location: Location;
  openingNarration: string;
}
```

### GET /api/game/state
```typescript
// ĞÑ‚Ğ²ĞµÑ‚
{
  character: Character;
  worldTime: WorldTime;
  location: Location;
  recentEvents: Event[];
}
```

---

## ğŸ’¾ Ğ¡Ñ…ĞµĞ¼Ğ° Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

Ğ¡Ğ¼. Ñ„Ğ°Ğ¹Ğ» `prisma/schema.prisma` (Ğ±ÑƒĞ´ĞµÑ‚ ÑĞ¾Ğ·Ğ´Ğ°Ğ½).

---

## ğŸ–¼ï¸ Ğ—Ğ°Ğ³Ğ»ÑƒÑˆĞºĞ° Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹

```typescript
// lib/image/stub.ts

export interface ImageGenerationConfig {
  prompt: string;
  style?: 'location' | 'character' | 'item';
  size?: 'small' | 'medium' | 'large';
}

export async function generateImage(config: ImageGenerationConfig): Promise<string> {
  // TODO: Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒÑ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
  // ĞŸĞ¾ĞºĞ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ placeholder
  
  const placeholders = {
    location: '/images/placeholders/location.jpg',
    character: '/images/placeholders/character.jpg',
    item: '/images/placeholders/item.jpg',
  };
  
  return placeholders[config.style || 'location'];
}

// ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ°
export async function isImageGenerationAvailable(): Promise<boolean> {
  // TODO: ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
  return false;
}
```

---

## ğŸš€ ĞšĞ°Ğº Ğ·Ğ°Ğ±Ñ€Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1: Git Clone (Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ)
```bash
# Ğ•ÑĞ»Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½ Ğ½Ğ° GitHub/GitLab
git clone <repository-url>
```

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ°Ñ€Ñ…Ğ¸Ğ²
```bash
# Ğ’ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ»Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
zip -r cultivation-game.zip . -x "node_modules/*" -x ".next/*"

# Ğ˜Ğ»Ğ¸ ÑĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹
```

### Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 3: Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
Ğ’ÑĞµ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ½Ğ°Ñ…Ğ¾Ğ´ÑÑ‚ÑÑ Ğ²:
- `/src/` - Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ´
- `/prisma/` - ÑÑ…ĞµĞ¼Ğ° Ğ‘Ğ”
- `/docs/` - Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- `/mini-services/` - WebSocket ÑĞµÑ€Ğ²Ğ¸Ñ

---

*Ğ’ĞµÑ€ÑĞ¸Ñ: 2.0 (Ğ“Ğ¸Ğ±Ñ€Ğ¸Ğ´Ğ½Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)*
