# Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¸Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ñ (Inventory System)

**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.1  
**Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¾:** 2025-02-28  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾

---

## ğŸ“‹ ĞĞ±Ğ·Ğ¾Ñ€

Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¸Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ñ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ, ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°. Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚:

1. **Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€ÑŒ (Inventory)** - 7x7 ÑĞµÑ‚ĞºĞ° Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ½Ğ¾ÑĞ¸Ğ¼Ñ‹Ñ… Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²
2. **Ğ­ĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° (Equipment)** - ÑĞ»Ğ¾Ñ‚Ñ‹ Ğ½Ğ° Ñ‚ĞµĞ»Ğµ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°
3. **Ğ”ÑƒÑ…Ğ¾Ğ²Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ (Spirit Storage)** - Ğ²Ğ½Ğµ-Ğ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ
4. **ĞšÑƒĞºĞ»Ğ° Ñ‚ĞµĞ»Ğ° (Body Doll)** - Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸ Ğ¸ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ğ˜ĞĞ’Ğ•ĞĞ¢ĞĞ Ğ¬ (React + Phaser)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  InventoryDialog (React)                  â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚  BodyDoll  â”‚   â”‚  7x7 Grid  â”‚   â”‚ Storage Panel  â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  (216x384) â”‚   â”‚  (49 ÑĞ»Ğ¾Ñ‚) â”‚   â”‚   (ÑĞ¿Ğ¸ÑĞ¾Ğº)     â”‚   â”‚   â”‚
â”‚  â”‚   â”‚   +20%     â”‚   â”‚            â”‚   â”‚   â†“ ĞºĞ»Ğ¸Ğº       â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â”‚ API                               â”‚
â”‚                              â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚               InventoryService (Backend)                  â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   getInventoryState() â†’ InventoryState                    â”‚   â”‚
â”‚  â”‚   getCharacterEquipment() â†’ Map<SlotId, Item>             â”‚   â”‚
â”‚  â”‚   getSpiritStorage() â†’ SpiritStorageState                 â”‚   â”‚
â”‚  â”‚   equipItem() / unequipItem() â†’ void                      â”‚   â”‚
â”‚  â”‚   moveItem() â†’ void                                       â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Prisma + SQLite                        â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚   InventoryItem â”‚ Equipment â”‚ SpiritStorage â”‚ Character  â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### InventoryItem

```prisma
model InventoryItem {
  id          String   @id @default(cuid())
  characterId String
  
  // Ğ˜Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
  name        String
  nameId      String
  description String
  type        String   // weapon, armor, consumable, material_qi_stone, ...
  category    String   // weapon, armor, consumable, material, ...
  rarity      String   // common, uncommon, rare, epic, legendary, mythic
  icon        String   // Ğ­Ğ¼Ğ¾Ğ´Ğ·Ğ¸ Ğ¸Ğ»Ğ¸ Ğ¿ÑƒÑ‚ÑŒ
  
  // ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾
  quantity    Int      @default(1)
  maxStack    Int      @default(1)
  stackable   Boolean  @default(false)
  
  // Ğ Ğ°Ğ·Ğ¼ĞµÑ€
  sizeWidth   Int      @default(1)
  sizeHeight  Int      @default(1)
  weight      Float    @default(0.0)
  
  // ĞŸĞ¾Ğ·Ğ¸Ñ†Ğ¸Ñ
  posX        Int?
  posY        Int?
  location    String   @default("inventory") // inventory, equipment, storage
  
  // Ğ­ĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°
  equipmentSlot String?
  isEquipped    Boolean @default(false)
  
  // Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾
  stats       String?  // JSON
  effects     String?  // JSON
  value       Int      @default(0)
  currency    String   @default("spirit_stones")
}
```

### Equipment

```prisma
model Equipment {
  id          String   @id @default(cuid())
  characterId String
  slotId      String   // head, torso, left_hand, right_hand, ...
  itemId      String   @unique
  equippedAt  DateTime @default(now())
  
  @@unique([characterId, slotId])
}
```

### SpiritStorage

```prisma
model SpiritStorage {
  id           String   @id @default(cuid())
  characterId  String   @unique
  capacity     Int      @default(20)
  unlocked     Boolean  @default(false)
  requiredLevel Int     @default(3)
  items        String   @default("[]") // JSON Ğ¼Ğ°ÑÑĞ¸Ğ²
}
```

---

## ğŸ® Ğ¡Ğ»Ğ¾Ñ‚Ñ‹ ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸

| Ğ¡Ğ»Ğ¾Ñ‚ | ID | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ° | `head` | Ğ¨Ğ»ĞµĞ¼Ñ‹, ÑˆĞ°Ğ¿ĞºĞ¸, ĞºĞ¾Ñ€Ğ¾Ğ½Ñ‹ |
| Ğ¢Ğ¾Ñ€Ñ | `torso` | Ğ‘Ñ€Ğ¾Ğ½Ñ, Ğ¾Ğ´ĞµĞ¶Ğ´Ñ‹, Ğ¼Ğ°Ğ½Ñ‚Ğ¸Ğ¸ |
| Ğ›ĞµĞ²Ğ°Ñ Ñ€ÑƒĞºĞ° | `left_hand` | ĞÑ€ÑƒĞ¶Ğ¸Ğµ, Ñ‰Ğ¸Ñ‚Ñ‹, ĞºĞ¾Ğ»ÑŒÑ†Ğ° |
| ĞŸÑ€Ğ°Ğ²Ğ°Ñ Ñ€ÑƒĞºĞ° | `right_hand` | ĞÑ€ÑƒĞ¶Ğ¸Ğµ, Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹, ĞºĞ¾Ğ»ÑŒÑ†Ğ° |
| ĞĞ¾Ğ³Ğ¸ | `legs` | Ğ¨Ñ‚Ğ°Ğ½Ñ‹, Ğ¿Ğ¾Ğ½Ğ¾Ğ¶Ğ¸ |
| Ğ¡Ñ‚ÑƒĞ¿Ğ½Ğ¸ | `feet` | Ğ¡Ğ°Ğ¿Ğ¾Ğ³Ğ¸, Ñ‚ÑƒÑ„Ğ»Ğ¸ |
| ĞĞºÑĞµÑÑÑƒĞ°Ñ€ 1 | `accessory1` | ĞšĞ¾Ğ»ÑŒÑ†Ğ°, Ğ°Ğ¼ÑƒĞ»ĞµÑ‚Ñ‹ |
| ĞĞºÑĞµÑÑÑƒĞ°Ñ€ 2 | `accessory2` | ĞšĞ¾Ğ»ÑŒÑ†Ğ°, Ğ°Ğ¼ÑƒĞ»ĞµÑ‚Ñ‹ |
| Ğ¡Ğ¿Ğ¸Ğ½Ğ° | `back` | ĞŸĞ»Ğ°Ñ‰Ğ¸, ĞºÑ€Ñ‹Ğ»ÑŒÑ |
| Ğ ÑĞºĞ·Ğ°Ğº | `backpack` | Ğ¡ÑƒĞ¼ĞºĞ¸ (+ ÑĞ»Ğ¾Ñ‚Ñ‹ Ğ¸Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ñ) |

---

## ğŸ“Š Ğ ĞµĞ´ĞºĞ¾ÑÑ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²

| Ğ ĞµĞ´ĞºĞ¾ÑÑ‚ÑŒ | Ğ¦Ğ²ĞµÑ‚ | ĞœĞ½Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ |
|----------|------|---------------------|
| Common | `#6b7280` (ÑĞµÑ€Ñ‹Ğ¹) | 1x |
| Uncommon | `#22c55e` (Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹) | 2x |
| Rare | `#3b82f6` (ÑĞ¸Ğ½Ğ¸Ğ¹) | 5x |
| Epic | `#a855f7` (Ñ„Ğ¸Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¹) | 15x |
| Legendary | `#fbbf24` (Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ğ¾Ğ¹) | 50x |
| Mythic | `#ef4444` (ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹) | 200x |

---

## ğŸ”„ API Endpoints

### GET /api/inventory/state

ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¸Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€Ñ.

**Query:**
- `characterId` - ID Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°

**Response:**
```json
{
  "success": true,
  "inventory": {
    "characterId": "xxx",
    "baseWidth": 7,
    "baseHeight": 7,
    "slots": [/* 49 ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² */],
    "currentWeight": 12.5,
    "maxWeight": 50,
    "usedSlots": 8,
    "totalSlots": 49
  },
  "equipment": {
    "head": {/* item */},
    "torso": null
  },
  "storage": {
    "unlocked": true,
    "capacity": 20,
    "slots": [/* Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹ */]
  },
  "items": [/* Ğ²ÑĞµ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹ */]
}
```

### POST /api/inventory/equip

Ğ­ĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚.

**Body:**
```json
{
  "characterId": "xxx",
  "itemId": "yyy",
  "slotId": "head"
}
```

### POST /api/inventory/move

ĞŸĞµÑ€ĞµĞ¼ĞµÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚.

**Body:**
```json
{
  "characterId": "xxx",
  "itemId": "yyy",
  "toX": 3,
  "toY": 2,
  "toLocation": "inventory"
}
```

### POST /api/inventory/add-qi-stone

Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ°Ğ¼ĞµĞ½ÑŒ Ğ¦Ğ¸.

**Body:**
```json
{
  "characterId": "xxx",
  "quality": "stone",
  "quantity": 5
}
```

---

## ğŸ§ª Ğ¢Ğ¸Ğ¿Ñ‹ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²

### ĞšĞ°Ğ¼Ğ½Ğ¸ Ğ¦Ğ¸ (Qi Stones)

Ğ¡Ğ¼. [qi_stone.md](./qi_stone.md) Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸.

| Ğ¢Ğ¸Ğ¿ | Ğ¦Ğ¸ | Ğ ĞµĞ´ĞºĞ¾ÑÑ‚ÑŒ |
|-----|-----|----------|
| ĞÑĞºĞ¾Ğ»Ğ¾Ğº | 1,000 | common |
| Ğ¤Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚ | 10,000 | uncommon |
| ĞšĞ°Ğ¼ĞµĞ½ÑŒ | 100,000 | rare |
| ĞšÑ€Ğ¸ÑÑ‚Ğ°Ğ»Ğ» | 1,000,000 | epic |
| Ğ¡ĞµÑ€Ğ´Ñ†Ğµ | 10,000,000 | legendary |
| Ğ¯Ğ´Ñ€Ğ¾ | 100,000,000 | mythic |

---

## ğŸ”§ Ğ£ÑÑ‚Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ½ĞµĞ¿Ğ¾Ğ»Ğ°Ğ´Ğ¾Ğº

### "Failed to fetch inventory state"

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** NULL Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ² Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑÑ… Ğ‘Ğ” (icon, category, rarity).

**Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ:**
```bash
bun run db:push -- --force-reset
```

**ĞŸÑ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ:**
- Ğ’ÑĞµĞ³Ğ´Ğ° ÑƒĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ğ¹Ñ‚Ğµ `icon`, `category`, `rarity` Ğ¿Ñ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Zod Ğ² API

### ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹ Ğ½Ğµ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ÑÑ‚ÑÑ

**ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ:**
1. `characterId` Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾
2. ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ² Ğ‘Ğ”
3. API Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ `success: true`

---

## ğŸ“ ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ° Ñ‡ĞµÑ€ĞµĞ· ÑĞµÑ€Ğ²Ğ¸Ñ

```typescript
import { inventoryService } from '@/services/inventory.service';

const item = await inventoryService.addItemToInventory(characterId, {
  name: 'ĞœĞµÑ‡ Ñ€Ğ°ÑÑĞ²ĞµÑ‚Ğ°',
  nameId: 'sword_dawn_001',
  description: 'Ğ”Ñ€ĞµĞ²Ğ½Ğ¸Ğ¹ Ğ¼ĞµÑ‡...',
  type: 'weapon',
  category: 'weapon',
  rarity: 'rare',
  icon: 'ğŸ—¡ï¸',
  quantity: 1,
  weight: 2.5,
  value: 500,
  stats: JSON.stringify({ damage: 45, speed: 1.2 }),
});
```

### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ¼Ğ½Ñ Ğ¦Ğ¸

```typescript
import { createQiStoneItem } from '@/types/qi-stones';

const qiStone = createQiStoneItem('crystal', 3);
// Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ 3 ĞºÑ€Ğ¸ÑÑ‚Ğ°Ğ»Ğ»Ğ° Ğ¦Ğ¸ (Ğ¿Ğ¾ 1,000,000 Ğ¦Ğ¸ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹)
```

---

## ğŸ“š Ğ¡Ğ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹

- [qi_stone.md](./qi_stone.md) - ĞšĞ°Ğ¼Ğ½Ğ¸ Ğ¦Ğ¸
- [equip.md](./equip.md) - Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ÑĞºĞ¸Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸
- [body.md](./body.md) - ĞšĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ñ Ñ‚ĞµĞ»Ğ°
- [../checkpoint28-inventar.md](../checkpoint28-inventar.md) - Ğ§ĞµĞºĞ»Ğ¸ÑÑ‚ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
